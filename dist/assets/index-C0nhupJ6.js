(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var qh={exports:{}},Eo={},Xh={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ai=Symbol.for("react.element"),uy=Symbol.for("react.portal"),cy=Symbol.for("react.fragment"),dy=Symbol.for("react.strict_mode"),hy=Symbol.for("react.profiler"),fy=Symbol.for("react.provider"),py=Symbol.for("react.context"),my=Symbol.for("react.forward_ref"),gy=Symbol.for("react.suspense"),yy=Symbol.for("react.memo"),vy=Symbol.for("react.lazy"),Wc=Symbol.iterator;function _y(t){return t===null||typeof t!="object"?null:(t=Wc&&t[Wc]||t["@@iterator"],typeof t=="function"?t:null)}var Jh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zh=Object.assign,ef={};function yr(t,e,n){this.props=t,this.context=e,this.refs=ef,this.updater=n||Jh}yr.prototype.isReactComponent={};yr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tf(){}tf.prototype=yr.prototype;function iu(t,e,n){this.props=t,this.context=e,this.refs=ef,this.updater=n||Jh}var su=iu.prototype=new tf;su.constructor=iu;Zh(su,yr.prototype);su.isPureReactComponent=!0;var $c=Array.isArray,nf=Object.prototype.hasOwnProperty,ou={current:null},rf={key:!0,ref:!0,__self:!0,__source:!0};function sf(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)nf.call(e,r)&&!rf.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ai,type:t,key:s,ref:o,props:i,_owner:ou.current}}function xy(t,e){return{$$typeof:Ai,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ai}function wy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Uc=/\/+/g;function tl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wy(""+t.key):e.toString(36)}function vs(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ai:case uy:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+tl(o,0):r,$c(i)?(n="",t!=null&&(n=t.replace(Uc,"$&/")+"/"),vs(i,e,n,"",function(u){return u})):i!=null&&(lu(i)&&(i=xy(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Uc,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$c(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+tl(s,l);o+=vs(s,e,n,a,i)}else if(a=_y(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+tl(s,l++),o+=vs(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ji(t,e,n){if(t==null)return t;var r=[],i=0;return vs(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Cy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ie={current:null},_s={transition:null},Ey={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:_s,ReactCurrentOwner:ou};function of(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Ji,forEach:function(t,e,n){Ji(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ji(t,function(){e++}),e},toArray:function(t){return Ji(t,function(e){return e})||[]},only:function(t){if(!lu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=yr;F.Fragment=cy;F.Profiler=hy;F.PureComponent=iu;F.StrictMode=dy;F.Suspense=gy;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ey;F.act=of;F.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Zh({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ou.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)nf.call(e,a)&&!rf.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ai,type:t.type,key:i,ref:s,props:r,_owner:o}};F.createContext=function(t){return t={$$typeof:py,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fy,_context:t},t.Consumer=t};F.createElement=sf;F.createFactory=function(t){var e=sf.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:my,render:t}};F.isValidElement=lu;F.lazy=function(t){return{$$typeof:vy,_payload:{_status:-1,_result:t},_init:Cy}};F.memo=function(t,e){return{$$typeof:yy,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=_s.transition;_s.transition={};try{t()}finally{_s.transition=e}};F.unstable_act=of;F.useCallback=function(t,e){return Ie.current.useCallback(t,e)};F.useContext=function(t){return Ie.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return Ie.current.useDeferredValue(t)};F.useEffect=function(t,e){return Ie.current.useEffect(t,e)};F.useId=function(){return Ie.current.useId()};F.useImperativeHandle=function(t,e,n){return Ie.current.useImperativeHandle(t,e,n)};F.useInsertionEffect=function(t,e){return Ie.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return Ie.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return Ie.current.useMemo(t,e)};F.useReducer=function(t,e,n){return Ie.current.useReducer(t,e,n)};F.useRef=function(t){return Ie.current.useRef(t)};F.useState=function(t){return Ie.current.useState(t)};F.useSyncExternalStore=function(t,e,n){return Ie.current.useSyncExternalStore(t,e,n)};F.useTransition=function(){return Ie.current.useTransition()};F.version="18.3.1";Xh.exports=F;var _=Xh.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy=_,Ny=Symbol.for("react.element"),ky=Symbol.for("react.fragment"),Iy=Object.prototype.hasOwnProperty,Ty=Sy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ry={key:!0,ref:!0,__self:!0,__source:!0};function lf(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Iy.call(e,r)&&!Ry.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ny,type:t,key:s,ref:o,props:i,_owner:Ty.current}}Eo.Fragment=ky;Eo.jsx=lf;Eo.jsxs=lf;qh.exports=Eo;var c=qh.exports,af={exports:{}},Be={},uf={exports:{}},cf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,M){var A=T.length;T.push(M);e:for(;0<A;){var ie=A-1>>>1,ce=T[ie];if(0<i(ce,M))T[ie]=M,T[A]=ce,A=ie;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var M=T[0],A=T.pop();if(A!==M){T[0]=A;e:for(var ie=0,ce=T.length,qi=ce>>>1;ie<qi;){var ln=2*(ie+1)-1,el=T[ln],an=ln+1,Xi=T[an];if(0>i(el,A))an<ce&&0>i(Xi,el)?(T[ie]=Xi,T[an]=A,ie=an):(T[ie]=el,T[ln]=A,ie=ln);else if(an<ce&&0>i(Xi,A))T[ie]=Xi,T[an]=A,ie=an;else break e}}return M}function i(T,M){var A=T.sortIndex-M.sortIndex;return A!==0?A:T.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,f=null,h=3,g=!1,v=!1,x=!1,C=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=T)r(u),M.sortIndex=M.expirationTime,e(a,M);else break;M=n(u)}}function w(T){if(x=!1,m(T),!v)if(n(a)!==null)v=!0,Jo(N);else{var M=n(u);M!==null&&Zo(w,M.startTime-T)}}function N(T,M){v=!1,x&&(x=!1,y(P),P=-1),g=!0;var A=h;try{for(m(M),f=n(a);f!==null&&(!(f.expirationTime>M)||T&&!Re());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,h=f.priorityLevel;var ce=ie(f.expirationTime<=M);M=t.unstable_now(),typeof ce=="function"?f.callback=ce:f===n(a)&&r(a),m(M)}else r(a);f=n(a)}if(f!==null)var qi=!0;else{var ln=n(u);ln!==null&&Zo(w,ln.startTime-M),qi=!1}return qi}finally{f=null,h=A,g=!1}}var k=!1,R=null,P=-1,z=5,D=-1;function Re(){return!(t.unstable_now()-D<z)}function kr(){if(R!==null){var T=t.unstable_now();D=T;var M=!0;try{M=R(!0,T)}finally{M?Ir():(k=!1,R=null)}}else k=!1}var Ir;if(typeof p=="function")Ir=function(){p(kr)};else if(typeof MessageChannel<"u"){var zc=new MessageChannel,ay=zc.port2;zc.port1.onmessage=kr,Ir=function(){ay.postMessage(null)}}else Ir=function(){C(kr,0)};function Jo(T){R=T,k||(k=!0,Ir())}function Zo(T,M){P=C(function(){T(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,Jo(N))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(T){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var A=h;h=M;try{return T()}finally{h=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,M){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var A=h;h=T;try{return M()}finally{h=A}},t.unstable_scheduleCallback=function(T,M,A){var ie=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?ie+A:ie):A=ie,T){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=A+ce,T={id:d++,callback:M,priorityLevel:T,startTime:A,expirationTime:ce,sortIndex:-1},A>ie?(T.sortIndex=A,e(u,T),n(a)===null&&T===n(u)&&(x?(y(P),P=-1):x=!0,Zo(w,A-ie))):(T.sortIndex=ce,e(a,T),v||g||(v=!0,Jo(N))),T},t.unstable_shouldYield=Re,t.unstable_wrapCallback=function(T){var M=h;return function(){var A=h;h=M;try{return T.apply(this,arguments)}finally{h=A}}}})(cf);uf.exports=cf;var Py=uf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by=_,Ue=Py;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var df=new Set,li={};function Rn(t,e){sr(t,e),sr(t+"Capture",e)}function sr(t,e){for(li[t]=e,t=0;t<e.length;t++)df.add(e[t])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=Object.prototype.hasOwnProperty,Dy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bc={},Hc={};function My(t){return Bl.call(Hc,t)?!0:Bl.call(Bc,t)?!1:Dy.test(t)?Hc[t]=!0:(Bc[t]=!0,!1)}function Ay(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jy(t,e,n,r){if(e===null||typeof e>"u"||Ay(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Te(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ve[t]=new Te(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ve[e]=new Te(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ve[t]=new Te(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ve[t]=new Te(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ve[t]=new Te(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ve[t]=new Te(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ve[t]=new Te(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ve[t]=new Te(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ve[t]=new Te(t,5,!1,t.toLowerCase(),null,!1,!1)});var au=/[\-:]([a-z])/g;function uu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(au,uu);ve[e]=new Te(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(au,uu);ve[e]=new Te(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(au,uu);ve[e]=new Te(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ve[t]=new Te(t,1,!1,t.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ve[t]=new Te(t,1,!1,t.toLowerCase(),null,!0,!0)});function cu(t,e,n,r){var i=ve.hasOwnProperty(e)?ve[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jy(e,n,i,r)&&(n=null),r||i===null?My(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bt=by.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zi=Symbol.for("react.element"),jn=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),du=Symbol.for("react.strict_mode"),Hl=Symbol.for("react.profiler"),hf=Symbol.for("react.provider"),ff=Symbol.for("react.context"),hu=Symbol.for("react.forward_ref"),Vl=Symbol.for("react.suspense"),Gl=Symbol.for("react.suspense_list"),fu=Symbol.for("react.memo"),jt=Symbol.for("react.lazy"),pf=Symbol.for("react.offscreen"),Vc=Symbol.iterator;function Tr(t){return t===null||typeof t!="object"?null:(t=Vc&&t[Vc]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,nl;function Ur(t){if(nl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nl=e&&e[1]||""}return`
`+nl+t}var rl=!1;function il(t,e){if(!t||rl)return"";rl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{rl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ur(t):""}function Ly(t){switch(t.tag){case 5:return Ur(t.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 2:case 15:return t=il(t.type,!1),t;case 11:return t=il(t.type.render,!1),t;case 1:return t=il(t.type,!0),t;default:return""}}function Ql(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ln:return"Fragment";case jn:return"Portal";case Hl:return"Profiler";case du:return"StrictMode";case Vl:return"Suspense";case Gl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ff:return(t.displayName||"Context")+".Consumer";case hf:return(t._context.displayName||"Context")+".Provider";case hu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fu:return e=t.displayName||null,e!==null?e:Ql(t.type)||"Memo";case jt:e=t._payload,t=t._init;try{return Ql(t(e))}catch{}}return null}function Oy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ql(e);case 8:return e===du?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Fy(t){var e=mf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function es(t){t._valueTracker||(t._valueTracker=Fy(t))}function gf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ms(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kl(t,e){var n=e.checked;return te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Gc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yf(t,e){e=e.checked,e!=null&&cu(t,"checked",e,!1)}function Yl(t,e){yf(t,e);var n=Jt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ql(t,e.type,n):e.hasOwnProperty("defaultValue")&&ql(t,e.type,Jt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ql(t,e,n){(e!=="number"||Ms(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Br=Array.isArray;function Yn(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(Br(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jt(n)}}function vf(t,e){var n=Jt(e.value),r=Jt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _f(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_f(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ts,xf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ts.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ai(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zy=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(t){zy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gr[e]=Gr[t]})});function wf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gr.hasOwnProperty(t)&&Gr[t]?(""+e).trim():e+"px"}function Cf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Wy=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zl(t,e){if(e){if(Wy[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function ea(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ta=null;function pu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var na=null,qn=null,Xn=null;function qc(t){if(t=Oi(t)){if(typeof na!="function")throw Error(E(280));var e=t.stateNode;e&&(e=To(e),na(t.stateNode,t.type,e))}}function Ef(t){qn?Xn?Xn.push(t):Xn=[t]:qn=t}function Sf(){if(qn){var t=qn,e=Xn;if(Xn=qn=null,qc(t),e)for(t=0;t<e.length;t++)qc(e[t])}}function Nf(t,e){return t(e)}function kf(){}var sl=!1;function If(t,e,n){if(sl)return t(e,n);sl=!0;try{return Nf(t,e,n)}finally{sl=!1,(qn!==null||Xn!==null)&&(kf(),Sf())}}function ui(t,e){var n=t.stateNode;if(n===null)return null;var r=To(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var ra=!1;if(St)try{var Rr={};Object.defineProperty(Rr,"passive",{get:function(){ra=!0}}),window.addEventListener("test",Rr,Rr),window.removeEventListener("test",Rr,Rr)}catch{ra=!1}function $y(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Qr=!1,As=null,js=!1,ia=null,Uy={onError:function(t){Qr=!0,As=t}};function By(t,e,n,r,i,s,o,l,a){Qr=!1,As=null,$y.apply(Uy,arguments)}function Hy(t,e,n,r,i,s,o,l,a){if(By.apply(this,arguments),Qr){if(Qr){var u=As;Qr=!1,As=null}else throw Error(E(198));js||(js=!0,ia=u)}}function Pn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xc(t){if(Pn(t)!==t)throw Error(E(188))}function Vy(t){var e=t.alternate;if(!e){if(e=Pn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Xc(i),t;if(s===r)return Xc(i),e;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Rf(t){return t=Vy(t),t!==null?Pf(t):null}function Pf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Pf(t);if(e!==null)return e;t=t.sibling}return null}var bf=Ue.unstable_scheduleCallback,Jc=Ue.unstable_cancelCallback,Gy=Ue.unstable_shouldYield,Qy=Ue.unstable_requestPaint,se=Ue.unstable_now,Ky=Ue.unstable_getCurrentPriorityLevel,mu=Ue.unstable_ImmediatePriority,Df=Ue.unstable_UserBlockingPriority,Ls=Ue.unstable_NormalPriority,Yy=Ue.unstable_LowPriority,Mf=Ue.unstable_IdlePriority,So=null,ft=null;function qy(t){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(So,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:Zy,Xy=Math.log,Jy=Math.LN2;function Zy(t){return t>>>=0,t===0?32:31-(Xy(t)/Jy|0)|0}var ns=64,rs=4194304;function Hr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Os(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Hr(l):(s&=o,s!==0&&(r=Hr(s)))}else o=n&~i,o!==0?r=Hr(o):s!==0&&(r=Hr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-it(e),i=1<<n,r|=t[n],e&=~i;return r}function e0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-it(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=e0(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function sa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Af(){var t=ns;return ns<<=1,!(ns&4194240)&&(ns=64),t}function ol(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ji(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=n}function n0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-it(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function gu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-it(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var U=0;function jf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lf,yu,Of,Ff,zf,oa=!1,is=[],$t=null,Ut=null,Bt=null,ci=new Map,di=new Map,Ot=[],r0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zc(t,e){switch(t){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":ci.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":di.delete(e.pointerId)}}function Pr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Oi(e),e!==null&&yu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function i0(t,e,n,r,i){switch(e){case"focusin":return $t=Pr($t,t,e,n,r,i),!0;case"dragenter":return Ut=Pr(Ut,t,e,n,r,i),!0;case"mouseover":return Bt=Pr(Bt,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ci.set(s,Pr(ci.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,di.set(s,Pr(di.get(s)||null,t,e,n,r,i)),!0}return!1}function Wf(t){var e=pn(t.target);if(e!==null){var n=Pn(e);if(n!==null){if(e=n.tag,e===13){if(e=Tf(n),e!==null){t.blockedOn=e,zf(t.priority,function(){Of(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=la(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ta=r,n.target.dispatchEvent(r),ta=null}else return e=Oi(n),e!==null&&yu(e),t.blockedOn=n,!1;e.shift()}return!0}function ed(t,e,n){xs(t)&&n.delete(e)}function s0(){oa=!1,$t!==null&&xs($t)&&($t=null),Ut!==null&&xs(Ut)&&(Ut=null),Bt!==null&&xs(Bt)&&(Bt=null),ci.forEach(ed),di.forEach(ed)}function br(t,e){t.blockedOn===e&&(t.blockedOn=null,oa||(oa=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,s0)))}function hi(t){function e(i){return br(i,t)}if(0<is.length){br(is[0],t);for(var n=1;n<is.length;n++){var r=is[n];r.blockedOn===t&&(r.blockedOn=null)}}for($t!==null&&br($t,t),Ut!==null&&br(Ut,t),Bt!==null&&br(Bt,t),ci.forEach(e),di.forEach(e),n=0;n<Ot.length;n++)r=Ot[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)Wf(n),n.blockedOn===null&&Ot.shift()}var Jn=bt.ReactCurrentBatchConfig,Fs=!0;function o0(t,e,n,r){var i=U,s=Jn.transition;Jn.transition=null;try{U=1,vu(t,e,n,r)}finally{U=i,Jn.transition=s}}function l0(t,e,n,r){var i=U,s=Jn.transition;Jn.transition=null;try{U=4,vu(t,e,n,r)}finally{U=i,Jn.transition=s}}function vu(t,e,n,r){if(Fs){var i=la(t,e,n,r);if(i===null)gl(t,e,r,zs,n),Zc(t,r);else if(i0(i,t,e,n,r))r.stopPropagation();else if(Zc(t,r),e&4&&-1<r0.indexOf(t)){for(;i!==null;){var s=Oi(i);if(s!==null&&Lf(s),s=la(t,e,n,r),s===null&&gl(t,e,r,zs,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else gl(t,e,r,null,n)}}var zs=null;function la(t,e,n,r){if(zs=null,t=pu(r),t=pn(t),t!==null)if(e=Pn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Tf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zs=t,null}function $f(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ky()){case mu:return 1;case Df:return 4;case Ls:case Yy:return 16;case Mf:return 536870912;default:return 16}default:return 16}}var zt=null,_u=null,ws=null;function Uf(){if(ws)return ws;var t,e=_u,n=e.length,r,i="value"in zt?zt.value:zt.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ws=i.slice(t,1<r?1-r:void 0)}function Cs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ss(){return!0}function td(){return!1}function He(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ss:td,this.isPropagationStopped=td,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),e}var vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xu=He(vr),Li=te({},vr,{view:0,detail:0}),a0=He(Li),ll,al,Dr,No=te({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dr&&(Dr&&t.type==="mousemove"?(ll=t.screenX-Dr.screenX,al=t.screenY-Dr.screenY):al=ll=0,Dr=t),ll)},movementY:function(t){return"movementY"in t?t.movementY:al}}),nd=He(No),u0=te({},No,{dataTransfer:0}),c0=He(u0),d0=te({},Li,{relatedTarget:0}),ul=He(d0),h0=te({},vr,{animationName:0,elapsedTime:0,pseudoElement:0}),f0=He(h0),p0=te({},vr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),m0=He(p0),g0=te({},vr,{data:0}),rd=He(g0),y0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_0[t])?!!e[t]:!1}function wu(){return x0}var w0=te({},Li,{key:function(t){if(t.key){var e=y0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?v0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wu,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),C0=He(w0),E0=te({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=He(E0),S0=te({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wu}),N0=He(S0),k0=te({},vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),I0=He(k0),T0=te({},No,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),R0=He(T0),P0=[9,13,27,32],Cu=St&&"CompositionEvent"in window,Kr=null;St&&"documentMode"in document&&(Kr=document.documentMode);var b0=St&&"TextEvent"in window&&!Kr,Bf=St&&(!Cu||Kr&&8<Kr&&11>=Kr),sd=" ",od=!1;function Hf(t,e){switch(t){case"keyup":return P0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var On=!1;function D0(t,e){switch(t){case"compositionend":return Vf(e);case"keypress":return e.which!==32?null:(od=!0,sd);case"textInput":return t=e.data,t===sd&&od?null:t;default:return null}}function M0(t,e){if(On)return t==="compositionend"||!Cu&&Hf(t,e)?(t=Uf(),ws=_u=zt=null,On=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bf&&e.locale!=="ko"?null:e.data;default:return null}}var A0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ld(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!A0[t.type]:e==="textarea"}function Gf(t,e,n,r){Ef(r),e=Ws(e,"onChange"),0<e.length&&(n=new xu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yr=null,fi=null;function j0(t){rp(t,0)}function ko(t){var e=Wn(t);if(gf(e))return t}function L0(t,e){if(t==="change")return e}var Qf=!1;if(St){var cl;if(St){var dl="oninput"in document;if(!dl){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),dl=typeof ad.oninput=="function"}cl=dl}else cl=!1;Qf=cl&&(!document.documentMode||9<document.documentMode)}function ud(){Yr&&(Yr.detachEvent("onpropertychange",Kf),fi=Yr=null)}function Kf(t){if(t.propertyName==="value"&&ko(fi)){var e=[];Gf(e,fi,t,pu(t)),If(j0,e)}}function O0(t,e,n){t==="focusin"?(ud(),Yr=e,fi=n,Yr.attachEvent("onpropertychange",Kf)):t==="focusout"&&ud()}function F0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ko(fi)}function z0(t,e){if(t==="click")return ko(e)}function W0(t,e){if(t==="input"||t==="change")return ko(e)}function $0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lt=typeof Object.is=="function"?Object.is:$0;function pi(t,e){if(lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bl.call(e,i)||!lt(t[i],e[i]))return!1}return!0}function cd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dd(t,e){var n=cd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cd(n)}}function Yf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qf(){for(var t=window,e=Ms();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ms(t.document)}return e}function Eu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function U0(t){var e=qf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yf(n.ownerDocument.documentElement,n)){if(r!==null&&Eu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=dd(n,s);var o=dd(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var B0=St&&"documentMode"in document&&11>=document.documentMode,Fn=null,aa=null,qr=null,ua=!1;function hd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ua||Fn==null||Fn!==Ms(r)||(r=Fn,"selectionStart"in r&&Eu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qr&&pi(qr,r)||(qr=r,r=Ws(aa,"onSelect"),0<r.length&&(e=new xu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fn)))}function os(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zn={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},hl={},Xf={};St&&(Xf=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function Io(t){if(hl[t])return hl[t];if(!zn[t])return t;var e=zn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xf)return hl[t]=e[n];return t}var Jf=Io("animationend"),Zf=Io("animationiteration"),ep=Io("animationstart"),tp=Io("transitionend"),np=new Map,fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(t,e){np.set(t,e),Rn(e,[t])}for(var fl=0;fl<fd.length;fl++){var pl=fd[fl],H0=pl.toLowerCase(),V0=pl[0].toUpperCase()+pl.slice(1);nn(H0,"on"+V0)}nn(Jf,"onAnimationEnd");nn(Zf,"onAnimationIteration");nn(ep,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(tp,"onTransitionEnd");sr("onMouseEnter",["mouseout","mouseover"]);sr("onMouseLeave",["mouseout","mouseover"]);sr("onPointerEnter",["pointerout","pointerover"]);sr("onPointerLeave",["pointerout","pointerover"]);Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vr));function pd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Hy(r,e,void 0,t),t.currentTarget=null}function rp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;pd(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;pd(i,l,u),s=a}}}if(js)throw t=ia,js=!1,ia=null,t}function K(t,e){var n=e[pa];n===void 0&&(n=e[pa]=new Set);var r=t+"__bubble";n.has(r)||(ip(e,t,2,!1),n.add(r))}function ml(t,e,n){var r=0;e&&(r|=4),ip(n,t,r,e)}var ls="_reactListening"+Math.random().toString(36).slice(2);function mi(t){if(!t[ls]){t[ls]=!0,df.forEach(function(n){n!=="selectionchange"&&(G0.has(n)||ml(n,!1,t),ml(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ls]||(e[ls]=!0,ml("selectionchange",!1,e))}}function ip(t,e,n,r){switch($f(e)){case 1:var i=o0;break;case 4:i=l0;break;default:i=vu}n=i.bind(null,e,n,t),i=void 0,!ra||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function gl(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=pn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}If(function(){var u=s,d=pu(n),f=[];e:{var h=np.get(t);if(h!==void 0){var g=xu,v=t;switch(t){case"keypress":if(Cs(n)===0)break e;case"keydown":case"keyup":g=C0;break;case"focusin":v="focus",g=ul;break;case"focusout":v="blur",g=ul;break;case"beforeblur":case"afterblur":g=ul;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=c0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=N0;break;case Jf:case Zf:case ep:g=f0;break;case tp:g=I0;break;case"scroll":g=a0;break;case"wheel":g=R0;break;case"copy":case"cut":case"paste":g=m0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=id}var x=(e&4)!==0,C=!x&&t==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var p=u,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,y!==null&&(w=ui(p,y),w!=null&&x.push(gi(p,w,m)))),C)break;p=p.return}0<x.length&&(h=new g(h,v,null,n,d),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==ta&&(v=n.relatedTarget||n.fromElement)&&(pn(v)||v[Nt]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?pn(v):null,v!==null&&(C=Pn(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(x=nd,w="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=id,w="onPointerLeave",y="onPointerEnter",p="pointer"),C=g==null?h:Wn(g),m=v==null?h:Wn(v),h=new x(w,p+"leave",g,n,d),h.target=C,h.relatedTarget=m,w=null,pn(d)===u&&(x=new x(y,p+"enter",v,n,d),x.target=m,x.relatedTarget=C,w=x),C=w,g&&v)t:{for(x=g,y=v,p=0,m=x;m;m=Mn(m))p++;for(m=0,w=y;w;w=Mn(w))m++;for(;0<p-m;)x=Mn(x),p--;for(;0<m-p;)y=Mn(y),m--;for(;p--;){if(x===y||y!==null&&x===y.alternate)break t;x=Mn(x),y=Mn(y)}x=null}else x=null;g!==null&&md(f,h,g,x,!1),v!==null&&C!==null&&md(f,C,v,x,!0)}}e:{if(h=u?Wn(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var N=L0;else if(ld(h))if(Qf)N=W0;else{N=F0;var k=O0}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=z0);if(N&&(N=N(t,u))){Gf(f,N,n,d);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&ql(h,"number",h.value)}switch(k=u?Wn(u):window,t){case"focusin":(ld(k)||k.contentEditable==="true")&&(Fn=k,aa=u,qr=null);break;case"focusout":qr=aa=Fn=null;break;case"mousedown":ua=!0;break;case"contextmenu":case"mouseup":case"dragend":ua=!1,hd(f,n,d);break;case"selectionchange":if(B0)break;case"keydown":case"keyup":hd(f,n,d)}var R;if(Cu)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else On?Hf(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Bf&&n.locale!=="ko"&&(On||P!=="onCompositionStart"?P==="onCompositionEnd"&&On&&(R=Uf()):(zt=d,_u="value"in zt?zt.value:zt.textContent,On=!0)),k=Ws(u,P),0<k.length&&(P=new rd(P,t,null,n,d),f.push({event:P,listeners:k}),R?P.data=R:(R=Vf(n),R!==null&&(P.data=R)))),(R=b0?D0(t,n):M0(t,n))&&(u=Ws(u,"onBeforeInput"),0<u.length&&(d=new rd("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=R))}rp(f,e)})}function gi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ws(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ui(t,n),s!=null&&r.unshift(gi(t,s,i)),s=ui(t,e),s!=null&&r.push(gi(t,s,i))),t=t.return}return r}function Mn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function md(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=ui(n,s),a!=null&&o.unshift(gi(n,a,l))):i||(a=ui(n,s),a!=null&&o.push(gi(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Q0=/\r\n?/g,K0=/\u0000|\uFFFD/g;function gd(t){return(typeof t=="string"?t:""+t).replace(Q0,`
`).replace(K0,"")}function as(t,e,n){if(e=gd(e),gd(t)!==e&&n)throw Error(E(425))}function $s(){}var ca=null,da=null;function ha(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fa=typeof setTimeout=="function"?setTimeout:void 0,Y0=typeof clearTimeout=="function"?clearTimeout:void 0,yd=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof yd<"u"?function(t){return yd.resolve(null).then(t).catch(X0)}:fa;function X0(t){setTimeout(function(){throw t})}function yl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hi(e)}function Ht(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _r=Math.random().toString(36).slice(2),ht="__reactFiber$"+_r,yi="__reactProps$"+_r,Nt="__reactContainer$"+_r,pa="__reactEvents$"+_r,J0="__reactListeners$"+_r,Z0="__reactHandles$"+_r;function pn(t){var e=t[ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nt]||n[ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vd(t);t!==null;){if(n=t[ht])return n;t=vd(t)}return e}t=n,n=t.parentNode}return null}function Oi(t){return t=t[ht]||t[Nt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function To(t){return t[yi]||null}var ma=[],$n=-1;function rn(t){return{current:t}}function q(t){0>$n||(t.current=ma[$n],ma[$n]=null,$n--)}function Q(t,e){$n++,ma[$n]=t.current,t.current=e}var Zt={},Se=rn(Zt),Ae=rn(!1),xn=Zt;function or(t,e){var n=t.type.contextTypes;if(!n)return Zt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function je(t){return t=t.childContextTypes,t!=null}function Us(){q(Ae),q(Se)}function _d(t,e,n){if(Se.current!==Zt)throw Error(E(168));Q(Se,e),Q(Ae,n)}function sp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(E(108,Oy(t)||"Unknown",i));return te({},n,r)}function Bs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zt,xn=Se.current,Q(Se,t),Q(Ae,Ae.current),!0}function xd(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=sp(t,e,xn),r.__reactInternalMemoizedMergedChildContext=t,q(Ae),q(Se),Q(Se,t)):q(Ae),Q(Ae,n)}var yt=null,Ro=!1,vl=!1;function op(t){yt===null?yt=[t]:yt.push(t)}function ev(t){Ro=!0,op(t)}function sn(){if(!vl&&yt!==null){vl=!0;var t=0,e=U;try{var n=yt;for(U=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yt=null,Ro=!1}catch(i){throw yt!==null&&(yt=yt.slice(t+1)),bf(mu,sn),i}finally{U=e,vl=!1}}return null}var Un=[],Bn=0,Hs=null,Vs=0,Ve=[],Ge=0,wn=null,vt=1,_t="";function un(t,e){Un[Bn++]=Vs,Un[Bn++]=Hs,Hs=t,Vs=e}function lp(t,e,n){Ve[Ge++]=vt,Ve[Ge++]=_t,Ve[Ge++]=wn,wn=t;var r=vt;t=_t;var i=32-it(r)-1;r&=~(1<<i),n+=1;var s=32-it(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vt=1<<32-it(e)+i|n<<i|r,_t=s+t}else vt=1<<s|n<<i|r,_t=t}function Su(t){t.return!==null&&(un(t,1),lp(t,1,0))}function Nu(t){for(;t===Hs;)Hs=Un[--Bn],Un[Bn]=null,Vs=Un[--Bn],Un[Bn]=null;for(;t===wn;)wn=Ve[--Ge],Ve[Ge]=null,_t=Ve[--Ge],Ve[Ge]=null,vt=Ve[--Ge],Ve[Ge]=null}var We=null,ze=null,X=!1,et=null;function ap(t,e){var n=Qe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function wd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,We=t,ze=Ht(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,We=t,ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wn!==null?{id:vt,overflow:_t}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,We=t,ze=null,!0):!1;default:return!1}}function ga(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ya(t){if(X){var e=ze;if(e){var n=e;if(!wd(t,e)){if(ga(t))throw Error(E(418));e=Ht(n.nextSibling);var r=We;e&&wd(t,e)?ap(r,n):(t.flags=t.flags&-4097|2,X=!1,We=t)}}else{if(ga(t))throw Error(E(418));t.flags=t.flags&-4097|2,X=!1,We=t}}}function Cd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;We=t}function us(t){if(t!==We)return!1;if(!X)return Cd(t),X=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ha(t.type,t.memoizedProps)),e&&(e=ze)){if(ga(t))throw up(),Error(E(418));for(;e;)ap(t,e),e=Ht(e.nextSibling)}if(Cd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ze=Ht(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ze=null}}else ze=We?Ht(t.stateNode.nextSibling):null;return!0}function up(){for(var t=ze;t;)t=Ht(t.nextSibling)}function lr(){ze=We=null,X=!1}function ku(t){et===null?et=[t]:et.push(t)}var tv=bt.ReactCurrentBatchConfig;function Mr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function cs(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ed(t){var e=t._init;return e(t._payload)}function cp(t){function e(y,p){if(t){var m=y.deletions;m===null?(y.deletions=[p],y.flags|=16):m.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=Kt(y,p),y.index=0,y.sibling=null,y}function s(y,p,m){return y.index=m,t?(m=y.alternate,m!==null?(m=m.index,m<p?(y.flags|=2,p):m):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,p,m,w){return p===null||p.tag!==6?(p=Nl(m,y.mode,w),p.return=y,p):(p=i(p,m),p.return=y,p)}function a(y,p,m,w){var N=m.type;return N===Ln?d(y,p,m.props.children,w,m.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===jt&&Ed(N)===p.type)?(w=i(p,m.props),w.ref=Mr(y,p,m),w.return=y,w):(w=Rs(m.type,m.key,m.props,null,y.mode,w),w.ref=Mr(y,p,m),w.return=y,w)}function u(y,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=kl(m,y.mode,w),p.return=y,p):(p=i(p,m.children||[]),p.return=y,p)}function d(y,p,m,w,N){return p===null||p.tag!==7?(p=_n(m,y.mode,w,N),p.return=y,p):(p=i(p,m),p.return=y,p)}function f(y,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Nl(""+p,y.mode,m),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Zi:return m=Rs(p.type,p.key,p.props,null,y.mode,m),m.ref=Mr(y,null,p),m.return=y,m;case jn:return p=kl(p,y.mode,m),p.return=y,p;case jt:var w=p._init;return f(y,w(p._payload),m)}if(Br(p)||Tr(p))return p=_n(p,y.mode,m,null),p.return=y,p;cs(y,p)}return null}function h(y,p,m,w){var N=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return N!==null?null:l(y,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Zi:return m.key===N?a(y,p,m,w):null;case jn:return m.key===N?u(y,p,m,w):null;case jt:return N=m._init,h(y,p,N(m._payload),w)}if(Br(m)||Tr(m))return N!==null?null:d(y,p,m,w,null);cs(y,m)}return null}function g(y,p,m,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(m)||null,l(p,y,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zi:return y=y.get(w.key===null?m:w.key)||null,a(p,y,w,N);case jn:return y=y.get(w.key===null?m:w.key)||null,u(p,y,w,N);case jt:var k=w._init;return g(y,p,m,k(w._payload),N)}if(Br(w)||Tr(w))return y=y.get(m)||null,d(p,y,w,N,null);cs(p,w)}return null}function v(y,p,m,w){for(var N=null,k=null,R=p,P=p=0,z=null;R!==null&&P<m.length;P++){R.index>P?(z=R,R=null):z=R.sibling;var D=h(y,R,m[P],w);if(D===null){R===null&&(R=z);break}t&&R&&D.alternate===null&&e(y,R),p=s(D,p,P),k===null?N=D:k.sibling=D,k=D,R=z}if(P===m.length)return n(y,R),X&&un(y,P),N;if(R===null){for(;P<m.length;P++)R=f(y,m[P],w),R!==null&&(p=s(R,p,P),k===null?N=R:k.sibling=R,k=R);return X&&un(y,P),N}for(R=r(y,R);P<m.length;P++)z=g(R,y,P,m[P],w),z!==null&&(t&&z.alternate!==null&&R.delete(z.key===null?P:z.key),p=s(z,p,P),k===null?N=z:k.sibling=z,k=z);return t&&R.forEach(function(Re){return e(y,Re)}),X&&un(y,P),N}function x(y,p,m,w){var N=Tr(m);if(typeof N!="function")throw Error(E(150));if(m=N.call(m),m==null)throw Error(E(151));for(var k=N=null,R=p,P=p=0,z=null,D=m.next();R!==null&&!D.done;P++,D=m.next()){R.index>P?(z=R,R=null):z=R.sibling;var Re=h(y,R,D.value,w);if(Re===null){R===null&&(R=z);break}t&&R&&Re.alternate===null&&e(y,R),p=s(Re,p,P),k===null?N=Re:k.sibling=Re,k=Re,R=z}if(D.done)return n(y,R),X&&un(y,P),N;if(R===null){for(;!D.done;P++,D=m.next())D=f(y,D.value,w),D!==null&&(p=s(D,p,P),k===null?N=D:k.sibling=D,k=D);return X&&un(y,P),N}for(R=r(y,R);!D.done;P++,D=m.next())D=g(R,y,P,D.value,w),D!==null&&(t&&D.alternate!==null&&R.delete(D.key===null?P:D.key),p=s(D,p,P),k===null?N=D:k.sibling=D,k=D);return t&&R.forEach(function(kr){return e(y,kr)}),X&&un(y,P),N}function C(y,p,m,w){if(typeof m=="object"&&m!==null&&m.type===Ln&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Zi:e:{for(var N=m.key,k=p;k!==null;){if(k.key===N){if(N=m.type,N===Ln){if(k.tag===7){n(y,k.sibling),p=i(k,m.props.children),p.return=y,y=p;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===jt&&Ed(N)===k.type){n(y,k.sibling),p=i(k,m.props),p.ref=Mr(y,k,m),p.return=y,y=p;break e}n(y,k);break}else e(y,k);k=k.sibling}m.type===Ln?(p=_n(m.props.children,y.mode,w,m.key),p.return=y,y=p):(w=Rs(m.type,m.key,m.props,null,y.mode,w),w.ref=Mr(y,p,m),w.return=y,y=w)}return o(y);case jn:e:{for(k=m.key;p!==null;){if(p.key===k)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(y,p.sibling),p=i(p,m.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=kl(m,y.mode,w),p.return=y,y=p}return o(y);case jt:return k=m._init,C(y,p,k(m._payload),w)}if(Br(m))return v(y,p,m,w);if(Tr(m))return x(y,p,m,w);cs(y,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(y,p.sibling),p=i(p,m),p.return=y,y=p):(n(y,p),p=Nl(m,y.mode,w),p.return=y,y=p),o(y)):n(y,p)}return C}var ar=cp(!0),dp=cp(!1),Gs=rn(null),Qs=null,Hn=null,Iu=null;function Tu(){Iu=Hn=Qs=null}function Ru(t){var e=Gs.current;q(Gs),t._currentValue=e}function va(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Zn(t,e){Qs=t,Iu=Hn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(be=!0),t.firstContext=null)}function Ye(t){var e=t._currentValue;if(Iu!==t)if(t={context:t,memoizedValue:e,next:null},Hn===null){if(Qs===null)throw Error(E(308));Hn=t,Qs.dependencies={lanes:0,firstContext:t}}else Hn=Hn.next=t;return e}var mn=null;function Pu(t){mn===null?mn=[t]:mn.push(t)}function hp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pu(e)):(n.next=i.next,i.next=n),e.interleaved=n,kt(t,r)}function kt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lt=!1;function bu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,kt(t,n)}return i=r.interleaved,i===null?(e.next=e,Pu(r)):(e.next=i.next,i.next=e),r.interleaved=e,kt(t,n)}function Es(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gu(t,n)}}function Sd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ks(t,e,n,r){var i=t.updateQueue;Lt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(s!==null){var f=i.baseState;o=0,d=u=a=null,l=s;do{var h=l.lane,g=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,x=l;switch(h=e,g=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=te({},f,h);break e;case 2:Lt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,a=f):d=d.next=g,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);En|=o,t.lanes=o,t.memoizedState=f}}function Nd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var Fi={},pt=rn(Fi),vi=rn(Fi),_i=rn(Fi);function gn(t){if(t===Fi)throw Error(E(174));return t}function Du(t,e){switch(Q(_i,e),Q(vi,t),Q(pt,Fi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jl(e,t)}q(pt),Q(pt,e)}function ur(){q(pt),q(vi),q(_i)}function pp(t){gn(_i.current);var e=gn(pt.current),n=Jl(e,t.type);e!==n&&(Q(vi,t),Q(pt,n))}function Mu(t){vi.current===t&&(q(pt),q(vi))}var Z=rn(0);function Ys(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _l=[];function Au(){for(var t=0;t<_l.length;t++)_l[t]._workInProgressVersionPrimary=null;_l.length=0}var Ss=bt.ReactCurrentDispatcher,xl=bt.ReactCurrentBatchConfig,Cn=0,ee=null,le=null,he=null,qs=!1,Xr=!1,xi=0,nv=0;function _e(){throw Error(E(321))}function ju(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lt(t[n],e[n]))return!1;return!0}function Lu(t,e,n,r,i,s){if(Cn=s,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ss.current=t===null||t.memoizedState===null?ov:lv,t=n(r,i),Xr){s=0;do{if(Xr=!1,xi=0,25<=s)throw Error(E(301));s+=1,he=le=null,e.updateQueue=null,Ss.current=av,t=n(r,i)}while(Xr)}if(Ss.current=Xs,e=le!==null&&le.next!==null,Cn=0,he=le=ee=null,qs=!1,e)throw Error(E(300));return t}function Ou(){var t=xi!==0;return xi=0,t}function dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?ee.memoizedState=he=t:he=he.next=t,he}function qe(){if(le===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=le.next;var e=he===null?ee.memoizedState:he.next;if(e!==null)he=e,le=t;else{if(t===null)throw Error(E(310));le=t,t={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},he===null?ee.memoizedState=he=t:he=he.next=t}return he}function wi(t,e){return typeof e=="function"?e(t):e}function wl(t){var e=qe(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=le,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var d=u.lane;if((Cn&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=r):a=a.next=f,ee.lanes|=d,En|=d}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,lt(r,e.memoizedState)||(be=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ee.lanes|=s,En|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cl(t){var e=qe(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);lt(s,e.memoizedState)||(be=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mp(){}function gp(t,e){var n=ee,r=qe(),i=e(),s=!lt(r.memoizedState,i);if(s&&(r.memoizedState=i,be=!0),r=r.queue,Fu(_p.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||he!==null&&he.memoizedState.tag&1){if(n.flags|=2048,Ci(9,vp.bind(null,n,r,i,e),void 0,null),me===null)throw Error(E(349));Cn&30||yp(n,e,i)}return i}function yp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vp(t,e,n,r){e.value=n,e.getSnapshot=r,xp(e)&&wp(t)}function _p(t,e,n){return n(function(){xp(e)&&wp(t)})}function xp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lt(t,n)}catch{return!0}}function wp(t){var e=kt(t,1);e!==null&&st(e,t,1,-1)}function kd(t){var e=dt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},e.queue=t,t=t.dispatch=sv.bind(null,ee,t),[e.memoizedState,t]}function Ci(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Cp(){return qe().memoizedState}function Ns(t,e,n,r){var i=dt();ee.flags|=t,i.memoizedState=Ci(1|e,n,void 0,r===void 0?null:r)}function Po(t,e,n,r){var i=qe();r=r===void 0?null:r;var s=void 0;if(le!==null){var o=le.memoizedState;if(s=o.destroy,r!==null&&ju(r,o.deps)){i.memoizedState=Ci(e,n,s,r);return}}ee.flags|=t,i.memoizedState=Ci(1|e,n,s,r)}function Id(t,e){return Ns(8390656,8,t,e)}function Fu(t,e){return Po(2048,8,t,e)}function Ep(t,e){return Po(4,2,t,e)}function Sp(t,e){return Po(4,4,t,e)}function Np(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function kp(t,e,n){return n=n!=null?n.concat([t]):null,Po(4,4,Np.bind(null,e,t),n)}function zu(){}function Ip(t,e){var n=qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ju(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Tp(t,e){var n=qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ju(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Rp(t,e,n){return Cn&21?(lt(n,e)||(n=Af(),ee.lanes|=n,En|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,be=!0),t.memoizedState=n)}function rv(t,e){var n=U;U=n!==0&&4>n?n:4,t(!0);var r=xl.transition;xl.transition={};try{t(!1),e()}finally{U=n,xl.transition=r}}function Pp(){return qe().memoizedState}function iv(t,e,n){var r=Qt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bp(t))Dp(e,n);else if(n=hp(t,e,n,r),n!==null){var i=ke();st(n,t,r,i),Mp(n,e,r)}}function sv(t,e,n){var r=Qt(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bp(t))Dp(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,lt(l,o)){var a=e.interleaved;a===null?(i.next=i,Pu(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=hp(t,e,i,r),n!==null&&(i=ke(),st(n,t,r,i),Mp(n,e,r))}}function bp(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function Dp(t,e){Xr=qs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Mp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gu(t,n)}}var Xs={readContext:Ye,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},ov={readContext:Ye,useCallback:function(t,e){return dt().memoizedState=[t,e===void 0?null:e],t},useContext:Ye,useEffect:Id,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ns(4194308,4,Np.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ns(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ns(4,2,t,e)},useMemo:function(t,e){var n=dt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=iv.bind(null,ee,t),[r.memoizedState,t]},useRef:function(t){var e=dt();return t={current:t},e.memoizedState=t},useState:kd,useDebugValue:zu,useDeferredValue:function(t){return dt().memoizedState=t},useTransition:function(){var t=kd(!1),e=t[0];return t=rv.bind(null,t[1]),dt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ee,i=dt();if(X){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),me===null)throw Error(E(349));Cn&30||yp(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Id(_p.bind(null,r,s,t),[t]),r.flags|=2048,Ci(9,vp.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=dt(),e=me.identifierPrefix;if(X){var n=_t,r=vt;n=(r&~(1<<32-it(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lv={readContext:Ye,useCallback:Ip,useContext:Ye,useEffect:Fu,useImperativeHandle:kp,useInsertionEffect:Ep,useLayoutEffect:Sp,useMemo:Tp,useReducer:wl,useRef:Cp,useState:function(){return wl(wi)},useDebugValue:zu,useDeferredValue:function(t){var e=qe();return Rp(e,le.memoizedState,t)},useTransition:function(){var t=wl(wi)[0],e=qe().memoizedState;return[t,e]},useMutableSource:mp,useSyncExternalStore:gp,useId:Pp,unstable_isNewReconciler:!1},av={readContext:Ye,useCallback:Ip,useContext:Ye,useEffect:Fu,useImperativeHandle:kp,useInsertionEffect:Ep,useLayoutEffect:Sp,useMemo:Tp,useReducer:Cl,useRef:Cp,useState:function(){return Cl(wi)},useDebugValue:zu,useDeferredValue:function(t){var e=qe();return le===null?e.memoizedState=t:Rp(e,le.memoizedState,t)},useTransition:function(){var t=Cl(wi)[0],e=qe().memoizedState;return[t,e]},useMutableSource:mp,useSyncExternalStore:gp,useId:Pp,unstable_isNewReconciler:!1};function Je(t,e){if(t&&t.defaultProps){e=te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _a(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bo={isMounted:function(t){return(t=t._reactInternals)?Pn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Qt(t),s=wt(r,i);s.payload=e,n!=null&&(s.callback=n),e=Vt(t,s,i),e!==null&&(st(e,t,i,r),Es(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ke(),i=Qt(t),s=wt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vt(t,s,i),e!==null&&(st(e,t,i,r),Es(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ke(),r=Qt(t),i=wt(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vt(t,i,r),e!==null&&(st(e,t,r,n),Es(e,t,r))}};function Td(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!pi(n,r)||!pi(i,s):!0}function Ap(t,e,n){var r=!1,i=Zt,s=e.contextType;return typeof s=="object"&&s!==null?s=Ye(s):(i=je(e)?xn:Se.current,r=e.contextTypes,s=(r=r!=null)?or(t,i):Zt),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Rd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bo.enqueueReplaceState(e,e.state,null)}function xa(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},bu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ye(s):(s=je(e)?xn:Se.current,i.context=or(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_a(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&bo.enqueueReplaceState(i,i.state,null),Ks(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cr(t,e){try{var n="",r=e;do n+=Ly(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function El(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wa(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uv=typeof WeakMap=="function"?WeakMap:Map;function jp(t,e,n){n=wt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zs||(Zs=!0,ba=r),wa(t,e)},n}function Lp(t,e,n){n=wt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){wa(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){wa(t,e),typeof r!="function"&&(Gt===null?Gt=new Set([this]):Gt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Pd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new uv;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ev.bind(null,t,e,n),e.then(t,t))}function bd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dd(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wt(-1,1),e.tag=2,Vt(n,e,1))),n.lanes|=1),t)}var cv=bt.ReactCurrentOwner,be=!1;function Ne(t,e,n,r){e.child=t===null?dp(e,null,n,r):ar(e,t.child,n,r)}function Md(t,e,n,r,i){n=n.render;var s=e.ref;return Zn(e,i),r=Lu(t,e,n,r,s,i),n=Ou(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,It(t,e,i)):(X&&n&&Su(e),e.flags|=1,Ne(t,e,r,i),e.child)}function Ad(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qu(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Op(t,e,s,r,i)):(t=Rs(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:pi,n(o,r)&&t.ref===e.ref)return It(t,e,i)}return e.flags|=1,t=Kt(s,r),t.ref=e.ref,t.return=e,e.child=t}function Op(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(pi(s,r)&&t.ref===e.ref)if(be=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(be=!0);else return e.lanes=t.lanes,It(t,e,i)}return Ca(t,e,n,r,i)}function Fp(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(Gn,Fe),Fe|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Q(Gn,Fe),Fe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Q(Gn,Fe),Fe|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Q(Gn,Fe),Fe|=r;return Ne(t,e,i,n),e.child}function zp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ca(t,e,n,r,i){var s=je(n)?xn:Se.current;return s=or(e,s),Zn(e,i),n=Lu(t,e,n,r,s,i),r=Ou(),t!==null&&!be?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,It(t,e,i)):(X&&r&&Su(e),e.flags|=1,Ne(t,e,n,i),e.child)}function jd(t,e,n,r,i){if(je(n)){var s=!0;Bs(e)}else s=!1;if(Zn(e,i),e.stateNode===null)ks(t,e),Ap(e,n,r),xa(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ye(u):(u=je(n)?xn:Se.current,u=or(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Rd(e,o,r,u),Lt=!1;var h=e.memoizedState;o.state=h,Ks(e,r,o,i),a=e.memoizedState,l!==r||h!==a||Ae.current||Lt?(typeof d=="function"&&(_a(e,n,d,r),a=e.memoizedState),(l=Lt||Td(e,n,l,r,h,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fp(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Je(e.type,l),o.props=u,f=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ye(a):(a=je(n)?xn:Se.current,a=or(e,a));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==a)&&Rd(e,o,r,a),Lt=!1,h=e.memoizedState,o.state=h,Ks(e,r,o,i);var v=e.memoizedState;l!==f||h!==v||Ae.current||Lt?(typeof g=="function"&&(_a(e,n,g,r),v=e.memoizedState),(u=Lt||Td(e,n,u,r,h,v,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ea(t,e,n,r,s,i)}function Ea(t,e,n,r,i,s){zp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&xd(e,n,!1),It(t,e,s);r=e.stateNode,cv.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ar(e,t.child,null,s),e.child=ar(e,null,l,s)):Ne(t,e,l,s),e.memoizedState=r.state,i&&xd(e,n,!0),e.child}function Wp(t){var e=t.stateNode;e.pendingContext?_d(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_d(t,e.context,!1),Du(t,e.containerInfo)}function Ld(t,e,n,r,i){return lr(),ku(i),e.flags|=256,Ne(t,e,n,r),e.child}var Sa={dehydrated:null,treeContext:null,retryLane:0};function Na(t){return{baseLanes:t,cachePool:null,transitions:null}}function $p(t,e,n){var r=e.pendingProps,i=Z.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Q(Z,i&1),t===null)return ya(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ao(o,r,0,null),t=_n(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Na(n),e.memoizedState=Sa,t):Wu(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return dv(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Kt(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Kt(l,s):(s=_n(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Na(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Sa,r}return s=t.child,t=s.sibling,r=Kt(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wu(t,e){return e=Ao({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ds(t,e,n,r){return r!==null&&ku(r),ar(e,t.child,null,n),t=Wu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dv(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=El(Error(E(422))),ds(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ao({mode:"visible",children:r.children},i,0,null),s=_n(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ar(e,t.child,null,o),e.child.memoizedState=Na(o),e.memoizedState=Sa,s);if(!(e.mode&1))return ds(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(E(419)),r=El(s,r,void 0),ds(t,e,o,r)}if(l=(o&t.childLanes)!==0,be||l){if(r=me,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,kt(t,i),st(r,t,i,-1))}return Gu(),r=El(Error(E(421))),ds(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Sv.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ze=Ht(i.nextSibling),We=e,X=!0,et=null,t!==null&&(Ve[Ge++]=vt,Ve[Ge++]=_t,Ve[Ge++]=wn,vt=t.id,_t=t.overflow,wn=e),e=Wu(e,r.children),e.flags|=4096,e)}function Od(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),va(t.return,e,n)}function Sl(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Up(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ne(t,e,r.children,n),r=Z.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Od(t,n,e);else if(t.tag===19)Od(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Q(Z,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ys(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sl(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ys(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sl(e,!0,n,null,s);break;case"together":Sl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ks(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function It(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),En|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Kt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hv(t,e,n){switch(e.tag){case 3:Wp(e),lr();break;case 5:pp(e);break;case 1:je(e.type)&&Bs(e);break;case 4:Du(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Q(Gs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Q(Z,Z.current&1),e.flags|=128,null):n&e.child.childLanes?$p(t,e,n):(Q(Z,Z.current&1),t=It(t,e,n),t!==null?t.sibling:null);Q(Z,Z.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Up(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Q(Z,Z.current),r)break;return null;case 22:case 23:return e.lanes=0,Fp(t,e,n)}return It(t,e,n)}var Bp,ka,Hp,Vp;Bp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ka=function(){};Hp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,gn(pt.current);var s=null;switch(n){case"input":i=Kl(t,i),r=Kl(t,r),s=[];break;case"select":i=te({},i,{value:void 0}),r=te({},r,{value:void 0}),s=[];break;case"textarea":i=Xl(t,i),r=Xl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$s)}Zl(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(li.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(li.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&K("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Vp=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ar(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fv(t,e,n){var r=e.pendingProps;switch(Nu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(e),null;case 1:return je(e.type)&&Us(),xe(e),null;case 3:return r=e.stateNode,ur(),q(Ae),q(Se),Au(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(us(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,et!==null&&(Aa(et),et=null))),ka(t,e),xe(e),null;case 5:Mu(e);var i=gn(_i.current);if(n=e.type,t!==null&&e.stateNode!=null)Hp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return xe(e),null}if(t=gn(pt.current),us(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ht]=e,r[yi]=s,t=(e.mode&1)!==0,n){case"dialog":K("cancel",r),K("close",r);break;case"iframe":case"object":case"embed":K("load",r);break;case"video":case"audio":for(i=0;i<Vr.length;i++)K(Vr[i],r);break;case"source":K("error",r);break;case"img":case"image":case"link":K("error",r),K("load",r);break;case"details":K("toggle",r);break;case"input":Gc(r,s),K("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},K("invalid",r);break;case"textarea":Kc(r,s),K("invalid",r)}Zl(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&as(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&as(r.textContent,l,t),i=["children",""+l]):li.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&K("scroll",r)}switch(n){case"input":es(r),Qc(r,s,!0);break;case"textarea":es(r),Yc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$s)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_f(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ht]=e,t[yi]=r,Bp(t,e,!1,!1),e.stateNode=t;e:{switch(o=ea(n,r),n){case"dialog":K("cancel",t),K("close",t),i=r;break;case"iframe":case"object":case"embed":K("load",t),i=r;break;case"video":case"audio":for(i=0;i<Vr.length;i++)K(Vr[i],t);i=r;break;case"source":K("error",t),i=r;break;case"img":case"image":case"link":K("error",t),K("load",t),i=r;break;case"details":K("toggle",t),i=r;break;case"input":Gc(t,r),i=Kl(t,r),K("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=te({},r,{value:void 0}),K("invalid",t);break;case"textarea":Kc(t,r),i=Xl(t,r),K("invalid",t);break;default:i=r}Zl(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Cf(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&xf(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ai(t,a):typeof a=="number"&&ai(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(li.hasOwnProperty(s)?a!=null&&s==="onScroll"&&K("scroll",t):a!=null&&cu(t,s,a,o))}switch(n){case"input":es(t),Qc(t,r,!1);break;case"textarea":es(t),Yc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jt(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Yn(t,!!r.multiple,s,!1):r.defaultValue!=null&&Yn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$s)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xe(e),null;case 6:if(t&&e.stateNode!=null)Vp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=gn(_i.current),gn(pt.current),us(e)){if(r=e.stateNode,n=e.memoizedProps,r[ht]=e,(s=r.nodeValue!==n)&&(t=We,t!==null))switch(t.tag){case 3:as(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&as(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=e,e.stateNode=r}return xe(e),null;case 13:if(q(Z),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(X&&ze!==null&&e.mode&1&&!(e.flags&128))up(),lr(),e.flags|=98560,s=!1;else if(s=us(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(E(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[ht]=e}else lr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;xe(e),s=!1}else et!==null&&(Aa(et),et=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Z.current&1?ue===0&&(ue=3):Gu())),e.updateQueue!==null&&(e.flags|=4),xe(e),null);case 4:return ur(),ka(t,e),t===null&&mi(e.stateNode.containerInfo),xe(e),null;case 10:return Ru(e.type._context),xe(e),null;case 17:return je(e.type)&&Us(),xe(e),null;case 19:if(q(Z),s=e.memoizedState,s===null)return xe(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ar(s,!1);else{if(ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ys(t),o!==null){for(e.flags|=128,Ar(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Q(Z,Z.current&1|2),e.child}t=t.sibling}s.tail!==null&&se()>dr&&(e.flags|=128,r=!0,Ar(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ys(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ar(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!X)return xe(e),null}else 2*se()-s.renderingStartTime>dr&&n!==1073741824&&(e.flags|=128,r=!0,Ar(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=se(),e.sibling=null,n=Z.current,Q(Z,r?n&1|2:n&1),e):(xe(e),null);case 22:case 23:return Vu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fe&1073741824&&(xe(e),e.subtreeFlags&6&&(e.flags|=8192)):xe(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function pv(t,e){switch(Nu(e),e.tag){case 1:return je(e.type)&&Us(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ur(),q(Ae),q(Se),Au(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mu(e),null;case 13:if(q(Z),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));lr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return q(Z),null;case 4:return ur(),null;case 10:return Ru(e.type._context),null;case 22:case 23:return Vu(),null;case 24:return null;default:return null}}var hs=!1,we=!1,mv=typeof WeakSet=="function"?WeakSet:Set,I=null;function Vn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(t,e,r)}else n.current=null}function Ia(t,e,n){try{n()}catch(r){ne(t,e,r)}}var Fd=!1;function gv(t,e){if(ca=Fs,t=qf(),Eu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(a=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(l=o),h===s&&++d===r&&(a=o),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(da={focusedElem:t,selectionRange:n},Fs=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,C=v.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:Je(e.type,x),C);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){ne(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return v=Fd,Fd=!1,v}function Jr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ia(e,n,s)}i=i.next}while(i!==r)}}function Do(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ta(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Gp(t){var e=t.alternate;e!==null&&(t.alternate=null,Gp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ht],delete e[yi],delete e[pa],delete e[J0],delete e[Z0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qp(t){return t.tag===5||t.tag===3||t.tag===4}function zd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ra(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$s));else if(r!==4&&(t=t.child,t!==null))for(Ra(t,e,n),t=t.sibling;t!==null;)Ra(t,e,n),t=t.sibling}function Pa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Pa(t,e,n),t=t.sibling;t!==null;)Pa(t,e,n),t=t.sibling}var ge=null,Ze=!1;function At(t,e,n){for(n=n.child;n!==null;)Kp(t,e,n),n=n.sibling}function Kp(t,e,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(So,n)}catch{}switch(n.tag){case 5:we||Vn(n,e);case 6:var r=ge,i=Ze;ge=null,At(t,e,n),ge=r,Ze=i,ge!==null&&(Ze?(t=ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ge.removeChild(n.stateNode));break;case 18:ge!==null&&(Ze?(t=ge,n=n.stateNode,t.nodeType===8?yl(t.parentNode,n):t.nodeType===1&&yl(t,n),hi(t)):yl(ge,n.stateNode));break;case 4:r=ge,i=Ze,ge=n.stateNode.containerInfo,Ze=!0,At(t,e,n),ge=r,Ze=i;break;case 0:case 11:case 14:case 15:if(!we&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ia(n,e,o),i=i.next}while(i!==r)}At(t,e,n);break;case 1:if(!we&&(Vn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ne(n,e,l)}At(t,e,n);break;case 21:At(t,e,n);break;case 22:n.mode&1?(we=(r=we)||n.memoizedState!==null,At(t,e,n),we=r):At(t,e,n);break;default:At(t,e,n)}}function Wd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mv),e.forEach(function(r){var i=Nv.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xe(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ge=l.stateNode,Ze=!1;break e;case 3:ge=l.stateNode.containerInfo,Ze=!0;break e;case 4:ge=l.stateNode.containerInfo,Ze=!0;break e}l=l.return}if(ge===null)throw Error(E(160));Kp(s,o,i),ge=null,Ze=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ne(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yp(e,t),e=e.sibling}function Yp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xe(e,t),ct(t),r&4){try{Jr(3,t,t.return),Do(3,t)}catch(x){ne(t,t.return,x)}try{Jr(5,t,t.return)}catch(x){ne(t,t.return,x)}}break;case 1:Xe(e,t),ct(t),r&512&&n!==null&&Vn(n,n.return);break;case 5:if(Xe(e,t),ct(t),r&512&&n!==null&&Vn(n,n.return),t.flags&32){var i=t.stateNode;try{ai(i,"")}catch(x){ne(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&yf(i,s),ea(l,o);var u=ea(l,s);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?Cf(i,f):d==="dangerouslySetInnerHTML"?xf(i,f):d==="children"?ai(i,f):cu(i,d,f,u)}switch(l){case"input":Yl(i,s);break;case"textarea":vf(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Yn(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Yn(i,!!s.multiple,s.defaultValue,!0):Yn(i,!!s.multiple,s.multiple?[]:"",!1))}i[yi]=s}catch(x){ne(t,t.return,x)}}break;case 6:if(Xe(e,t),ct(t),r&4){if(t.stateNode===null)throw Error(E(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){ne(t,t.return,x)}}break;case 3:if(Xe(e,t),ct(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hi(e.containerInfo)}catch(x){ne(t,t.return,x)}break;case 4:Xe(e,t),ct(t);break;case 13:Xe(e,t),ct(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Bu=se())),r&4&&Wd(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(we=(u=we)||d,Xe(e,t),we=u):Xe(e,t),ct(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(I=t,d=t.child;d!==null;){for(f=I=d;I!==null;){switch(h=I,g=h.child,h.tag){case 0:case 11:case 14:case 15:Jr(4,h,h.return);break;case 1:Vn(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){ne(r,n,x)}}break;case 5:Vn(h,h.return);break;case 22:if(h.memoizedState!==null){Ud(f);continue}}g!==null?(g.return=h,I=g):Ud(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=wf("display",o))}catch(x){ne(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){ne(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xe(e,t),ct(t),r&4&&Wd(t);break;case 21:break;default:Xe(e,t),ct(t)}}function ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Qp(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ai(i,""),r.flags&=-33);var s=zd(t);Pa(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=zd(t);Ra(t,l,o);break;default:throw Error(E(161))}}catch(a){ne(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function yv(t,e,n){I=t,qp(t)}function qp(t,e,n){for(var r=(t.mode&1)!==0;I!==null;){var i=I,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||hs;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||we;l=hs;var u=we;if(hs=o,(we=a)&&!u)for(I=i;I!==null;)o=I,a=o.child,o.tag===22&&o.memoizedState!==null?Bd(i):a!==null?(a.return=o,I=a):Bd(i);for(;s!==null;)I=s,qp(s),s=s.sibling;I=i,hs=l,we=u}$d(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,I=s):$d(t)}}function $d(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:we||Do(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!we)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Je(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Nd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&hi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}we||e.flags&512&&Ta(e)}catch(h){ne(e,e.return,h)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function Ud(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function Bd(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Do(4,e)}catch(a){ne(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ne(e,i,a)}}var s=e.return;try{Ta(e)}catch(a){ne(e,s,a)}break;case 5:var o=e.return;try{Ta(e)}catch(a){ne(e,o,a)}}}catch(a){ne(e,e.return,a)}if(e===t){I=null;break}var l=e.sibling;if(l!==null){l.return=e.return,I=l;break}I=e.return}}var vv=Math.ceil,Js=bt.ReactCurrentDispatcher,$u=bt.ReactCurrentOwner,Ke=bt.ReactCurrentBatchConfig,W=0,me=null,oe=null,ye=0,Fe=0,Gn=rn(0),ue=0,Ei=null,En=0,Mo=0,Uu=0,Zr=null,Pe=null,Bu=0,dr=1/0,gt=null,Zs=!1,ba=null,Gt=null,fs=!1,Wt=null,eo=0,ei=0,Da=null,Is=-1,Ts=0;function ke(){return W&6?se():Is!==-1?Is:Is=se()}function Qt(t){return t.mode&1?W&2&&ye!==0?ye&-ye:tv.transition!==null?(Ts===0&&(Ts=Af()),Ts):(t=U,t!==0||(t=window.event,t=t===void 0?16:$f(t.type)),t):1}function st(t,e,n,r){if(50<ei)throw ei=0,Da=null,Error(E(185));ji(t,n,r),(!(W&2)||t!==me)&&(t===me&&(!(W&2)&&(Mo|=n),ue===4&&Ft(t,ye)),Le(t,r),n===1&&W===0&&!(e.mode&1)&&(dr=se()+500,Ro&&sn()))}function Le(t,e){var n=t.callbackNode;t0(t,e);var r=Os(t,t===me?ye:0);if(r===0)n!==null&&Jc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Jc(n),e===1)t.tag===0?ev(Hd.bind(null,t)):op(Hd.bind(null,t)),q0(function(){!(W&6)&&sn()}),n=null;else{switch(jf(r)){case 1:n=mu;break;case 4:n=Df;break;case 16:n=Ls;break;case 536870912:n=Mf;break;default:n=Ls}n=im(n,Xp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Xp(t,e){if(Is=-1,Ts=0,W&6)throw Error(E(327));var n=t.callbackNode;if(er()&&t.callbackNode!==n)return null;var r=Os(t,t===me?ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=to(t,r);else{e=r;var i=W;W|=2;var s=Zp();(me!==t||ye!==e)&&(gt=null,dr=se()+500,vn(t,e));do try{wv();break}catch(l){Jp(t,l)}while(!0);Tu(),Js.current=s,W=i,oe!==null?e=0:(me=null,ye=0,e=ue)}if(e!==0){if(e===2&&(i=sa(t),i!==0&&(r=i,e=Ma(t,i))),e===1)throw n=Ei,vn(t,0),Ft(t,r),Le(t,se()),n;if(e===6)Ft(t,r);else{if(i=t.current.alternate,!(r&30)&&!_v(i)&&(e=to(t,r),e===2&&(s=sa(t),s!==0&&(r=s,e=Ma(t,s))),e===1))throw n=Ei,vn(t,0),Ft(t,r),Le(t,se()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:cn(t,Pe,gt);break;case 3:if(Ft(t,r),(r&130023424)===r&&(e=Bu+500-se(),10<e)){if(Os(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ke(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=fa(cn.bind(null,t,Pe,gt),e);break}cn(t,Pe,gt);break;case 4:if(Ft(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-it(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vv(r/1960))-r,10<r){t.timeoutHandle=fa(cn.bind(null,t,Pe,gt),r);break}cn(t,Pe,gt);break;case 5:cn(t,Pe,gt);break;default:throw Error(E(329))}}}return Le(t,se()),t.callbackNode===n?Xp.bind(null,t):null}function Ma(t,e){var n=Zr;return t.current.memoizedState.isDehydrated&&(vn(t,e).flags|=256),t=to(t,e),t!==2&&(e=Pe,Pe=n,e!==null&&Aa(e)),t}function Aa(t){Pe===null?Pe=t:Pe.push.apply(Pe,t)}function _v(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ft(t,e){for(e&=~Uu,e&=~Mo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-it(e),r=1<<n;t[n]=-1,e&=~r}}function Hd(t){if(W&6)throw Error(E(327));er();var e=Os(t,0);if(!(e&1))return Le(t,se()),null;var n=to(t,e);if(t.tag!==0&&n===2){var r=sa(t);r!==0&&(e=r,n=Ma(t,r))}if(n===1)throw n=Ei,vn(t,0),Ft(t,e),Le(t,se()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cn(t,Pe,gt),Le(t,se()),null}function Hu(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(dr=se()+500,Ro&&sn())}}function Sn(t){Wt!==null&&Wt.tag===0&&!(W&6)&&er();var e=W;W|=1;var n=Ke.transition,r=U;try{if(Ke.transition=null,U=1,t)return t()}finally{U=r,Ke.transition=n,W=e,!(W&6)&&sn()}}function Vu(){Fe=Gn.current,q(Gn)}function vn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Y0(n)),oe!==null)for(n=oe.return;n!==null;){var r=n;switch(Nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Us();break;case 3:ur(),q(Ae),q(Se),Au();break;case 5:Mu(r);break;case 4:ur();break;case 13:q(Z);break;case 19:q(Z);break;case 10:Ru(r.type._context);break;case 22:case 23:Vu()}n=n.return}if(me=t,oe=t=Kt(t.current,null),ye=Fe=e,ue=0,Ei=null,Uu=Mo=En=0,Pe=Zr=null,mn!==null){for(e=0;e<mn.length;e++)if(n=mn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}mn=null}return t}function Jp(t,e){do{var n=oe;try{if(Tu(),Ss.current=Xs,qs){for(var r=ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qs=!1}if(Cn=0,he=le=ee=null,Xr=!1,xi=0,$u.current=null,n===null||n.return===null){ue=1,Ei=e,oe=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=ye,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=bd(o);if(g!==null){g.flags&=-257,Dd(g,o,l,s,e),g.mode&1&&Pd(s,u,e),e=g,a=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(a),e.updateQueue=x}else v.add(a);break e}else{if(!(e&1)){Pd(s,u,e),Gu();break e}a=Error(E(426))}}else if(X&&l.mode&1){var C=bd(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Dd(C,o,l,s,e),ku(cr(a,l));break e}}s=a=cr(a,l),ue!==4&&(ue=2),Zr===null?Zr=[s]:Zr.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=jp(s,a,e);Sd(s,y);break e;case 1:l=a;var p=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gt===null||!Gt.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=Lp(s,l,e);Sd(s,w);break e}}s=s.return}while(s!==null)}tm(n)}catch(N){e=N,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(!0)}function Zp(){var t=Js.current;return Js.current=Xs,t===null?Xs:t}function Gu(){(ue===0||ue===3||ue===2)&&(ue=4),me===null||!(En&268435455)&&!(Mo&268435455)||Ft(me,ye)}function to(t,e){var n=W;W|=2;var r=Zp();(me!==t||ye!==e)&&(gt=null,vn(t,e));do try{xv();break}catch(i){Jp(t,i)}while(!0);if(Tu(),W=n,Js.current=r,oe!==null)throw Error(E(261));return me=null,ye=0,ue}function xv(){for(;oe!==null;)em(oe)}function wv(){for(;oe!==null&&!Gy();)em(oe)}function em(t){var e=rm(t.alternate,t,Fe);t.memoizedProps=t.pendingProps,e===null?tm(t):oe=e,$u.current=null}function tm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pv(n,e),n!==null){n.flags&=32767,oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ue=6,oe=null;return}}else if(n=fv(n,e,Fe),n!==null){oe=n;return}if(e=e.sibling,e!==null){oe=e;return}oe=e=t}while(e!==null);ue===0&&(ue=5)}function cn(t,e,n){var r=U,i=Ke.transition;try{Ke.transition=null,U=1,Cv(t,e,n,r)}finally{Ke.transition=i,U=r}return null}function Cv(t,e,n,r){do er();while(Wt!==null);if(W&6)throw Error(E(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(n0(t,s),t===me&&(oe=me=null,ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fs||(fs=!0,im(Ls,function(){return er(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ke.transition,Ke.transition=null;var o=U;U=1;var l=W;W|=4,$u.current=null,gv(t,n),Yp(n,t),U0(da),Fs=!!ca,da=ca=null,t.current=n,yv(n),Qy(),W=l,U=o,Ke.transition=s}else t.current=n;if(fs&&(fs=!1,Wt=t,eo=i),s=t.pendingLanes,s===0&&(Gt=null),qy(n.stateNode),Le(t,se()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zs)throw Zs=!1,t=ba,ba=null,t;return eo&1&&t.tag!==0&&er(),s=t.pendingLanes,s&1?t===Da?ei++:(ei=0,Da=t):ei=0,sn(),null}function er(){if(Wt!==null){var t=jf(eo),e=Ke.transition,n=U;try{if(Ke.transition=null,U=16>t?16:t,Wt===null)var r=!1;else{if(t=Wt,Wt=null,eo=0,W&6)throw Error(E(331));var i=W;for(W|=4,I=t.current;I!==null;){var s=I,o=s.child;if(I.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:Jr(8,d,s)}var f=d.child;if(f!==null)f.return=d,I=f;else for(;I!==null;){d=I;var h=d.sibling,g=d.return;if(Gp(d),d===u){I=null;break}if(h!==null){h.return=g,I=h;break}I=g}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var C=x.sibling;x.sibling=null,x=C}while(x!==null)}}I=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,I=o;else e:for(;I!==null;){if(s=I,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Jr(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,I=y;break e}I=s.return}}var p=t.current;for(I=p;I!==null;){o=I;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,I=m;else e:for(o=p;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Do(9,l)}}catch(N){ne(l,l.return,N)}if(l===o){I=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,I=w;break e}I=l.return}}if(W=i,sn(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(So,t)}catch{}r=!0}return r}finally{U=n,Ke.transition=e}}return!1}function Vd(t,e,n){e=cr(n,e),e=jp(t,e,1),t=Vt(t,e,1),e=ke(),t!==null&&(ji(t,1,e),Le(t,e))}function ne(t,e,n){if(t.tag===3)Vd(t,t,n);else for(;e!==null;){if(e.tag===3){Vd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gt===null||!Gt.has(r))){t=cr(n,t),t=Lp(e,t,1),e=Vt(e,t,1),t=ke(),e!==null&&(ji(e,1,t),Le(e,t));break}}e=e.return}}function Ev(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ke(),t.pingedLanes|=t.suspendedLanes&n,me===t&&(ye&n)===n&&(ue===4||ue===3&&(ye&130023424)===ye&&500>se()-Bu?vn(t,0):Uu|=n),Le(t,e)}function nm(t,e){e===0&&(t.mode&1?(e=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):e=1);var n=ke();t=kt(t,e),t!==null&&(ji(t,e,n),Le(t,n))}function Sv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nm(t,n)}function Nv(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),nm(t,n)}var rm;rm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ae.current)be=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return be=!1,hv(t,e,n);be=!!(t.flags&131072)}else be=!1,X&&e.flags&1048576&&lp(e,Vs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ks(t,e),t=e.pendingProps;var i=or(e,Se.current);Zn(e,n),i=Lu(null,e,r,t,i,n);var s=Ou();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,je(r)?(s=!0,Bs(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bu(e),i.updater=bo,e.stateNode=i,i._reactInternals=e,xa(e,r,t,n),e=Ea(null,e,r,!0,s,n)):(e.tag=0,X&&s&&Su(e),Ne(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ks(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Iv(r),t=Je(r,t),i){case 0:e=Ca(null,e,r,t,n);break e;case 1:e=jd(null,e,r,t,n);break e;case 11:e=Md(null,e,r,t,n);break e;case 14:e=Ad(null,e,r,Je(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),Ca(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),jd(t,e,r,i,n);case 3:e:{if(Wp(e),t===null)throw Error(E(387));r=e.pendingProps,s=e.memoizedState,i=s.element,fp(t,e),Ks(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=cr(Error(E(423)),e),e=Ld(t,e,r,n,i);break e}else if(r!==i){i=cr(Error(E(424)),e),e=Ld(t,e,r,n,i);break e}else for(ze=Ht(e.stateNode.containerInfo.firstChild),We=e,X=!0,et=null,n=dp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lr(),r===i){e=It(t,e,n);break e}Ne(t,e,r,n)}e=e.child}return e;case 5:return pp(e),t===null&&ya(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ha(r,i)?o=null:s!==null&&ha(r,s)&&(e.flags|=32),zp(t,e),Ne(t,e,o,n),e.child;case 6:return t===null&&ya(e),null;case 13:return $p(t,e,n);case 4:return Du(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ar(e,null,r,n):Ne(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),Md(t,e,r,i,n);case 7:return Ne(t,e,e.pendingProps,n),e.child;case 8:return Ne(t,e,e.pendingProps.children,n),e.child;case 12:return Ne(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Q(Gs,r._currentValue),r._currentValue=o,s!==null)if(lt(s.value,o)){if(s.children===i.children&&!Ae.current){e=It(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=wt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),va(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),va(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ne(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Zn(e,n),i=Ye(i),r=r(i),e.flags|=1,Ne(t,e,r,n),e.child;case 14:return r=e.type,i=Je(r,e.pendingProps),i=Je(r.type,i),Ad(t,e,r,i,n);case 15:return Op(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),ks(t,e),e.tag=1,je(r)?(t=!0,Bs(e)):t=!1,Zn(e,n),Ap(e,r,i),xa(e,r,i,n),Ea(null,e,r,!0,t,n);case 19:return Up(t,e,n);case 22:return Fp(t,e,n)}throw Error(E(156,e.tag))};function im(t,e){return bf(t,e)}function kv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(t,e,n,r){return new kv(t,e,n,r)}function Qu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Iv(t){if(typeof t=="function")return Qu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hu)return 11;if(t===fu)return 14}return 2}function Kt(t,e){var n=t.alternate;return n===null?(n=Qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rs(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Qu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ln:return _n(n.children,i,s,e);case du:o=8,i|=8;break;case Hl:return t=Qe(12,n,e,i|2),t.elementType=Hl,t.lanes=s,t;case Vl:return t=Qe(13,n,e,i),t.elementType=Vl,t.lanes=s,t;case Gl:return t=Qe(19,n,e,i),t.elementType=Gl,t.lanes=s,t;case pf:return Ao(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hf:o=10;break e;case ff:o=9;break e;case hu:o=11;break e;case fu:o=14;break e;case jt:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Qe(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function _n(t,e,n,r){return t=Qe(7,t,r,e),t.lanes=n,t}function Ao(t,e,n,r){return t=Qe(22,t,r,e),t.elementType=pf,t.lanes=n,t.stateNode={isHidden:!1},t}function Nl(t,e,n){return t=Qe(6,t,null,e),t.lanes=n,t}function kl(t,e,n){return e=Qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tv(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ku(t,e,n,r,i,s,o,l,a){return t=new Tv(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qe(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bu(s),t}function Rv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sm(t){if(!t)return Zt;t=t._reactInternals;e:{if(Pn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(je(n))return sp(t,n,e)}return e}function om(t,e,n,r,i,s,o,l,a){return t=Ku(n,r,!0,t,i,s,o,l,a),t.context=sm(null),n=t.current,r=ke(),i=Qt(n),s=wt(r,i),s.callback=e??null,Vt(n,s,i),t.current.lanes=i,ji(t,i,r),Le(t,r),t}function jo(t,e,n,r){var i=e.current,s=ke(),o=Qt(i);return n=sm(n),e.context===null?e.context=n:e.pendingContext=n,e=wt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vt(i,e,o),t!==null&&(st(t,i,o,s),Es(t,i,o)),o}function no(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yu(t,e){Gd(t,e),(t=t.alternate)&&Gd(t,e)}function Pv(){return null}var lm=typeof reportError=="function"?reportError:function(t){console.error(t)};function qu(t){this._internalRoot=t}Lo.prototype.render=qu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));jo(t,e,null,null)};Lo.prototype.unmount=qu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sn(function(){jo(null,t,null,null)}),e[Nt]=null}};function Lo(t){this._internalRoot=t}Lo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ff();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ot.length&&e!==0&&e<Ot[n].priority;n++);Ot.splice(n,0,t),n===0&&Wf(t)}};function Xu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qd(){}function bv(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=no(o);s.call(u)}}var o=om(e,r,t,0,null,!1,!1,"",Qd);return t._reactRootContainer=o,t[Nt]=o.current,mi(t.nodeType===8?t.parentNode:t),Sn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=no(a);l.call(u)}}var a=Ku(t,0,!1,null,null,!1,!1,"",Qd);return t._reactRootContainer=a,t[Nt]=a.current,mi(t.nodeType===8?t.parentNode:t),Sn(function(){jo(e,a,n,r)}),a}function Fo(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=no(o);l.call(a)}}jo(e,o,t,i)}else o=bv(n,e,t,i,r);return no(o)}Lf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hr(e.pendingLanes);n!==0&&(gu(e,n|1),Le(e,se()),!(W&6)&&(dr=se()+500,sn()))}break;case 13:Sn(function(){var r=kt(t,1);if(r!==null){var i=ke();st(r,t,1,i)}}),Yu(t,1)}};yu=function(t){if(t.tag===13){var e=kt(t,134217728);if(e!==null){var n=ke();st(e,t,134217728,n)}Yu(t,134217728)}};Of=function(t){if(t.tag===13){var e=Qt(t),n=kt(t,e);if(n!==null){var r=ke();st(n,t,e,r)}Yu(t,e)}};Ff=function(){return U};zf=function(t,e){var n=U;try{return U=t,e()}finally{U=n}};na=function(t,e,n){switch(e){case"input":if(Yl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=To(r);if(!i)throw Error(E(90));gf(r),Yl(r,i)}}}break;case"textarea":vf(t,n);break;case"select":e=n.value,e!=null&&Yn(t,!!n.multiple,e,!1)}};Nf=Hu;kf=Sn;var Dv={usingClientEntryPoint:!1,Events:[Oi,Wn,To,Ef,Sf,Hu]},jr={findFiberByHostInstance:pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mv={bundleType:jr.bundleType,version:jr.version,rendererPackageName:jr.rendererPackageName,rendererConfig:jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rf(t),t===null?null:t.stateNode},findFiberByHostInstance:jr.findFiberByHostInstance||Pv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{So=ps.inject(Mv),ft=ps}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dv;Be.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xu(e))throw Error(E(200));return Rv(t,e,null,n)};Be.createRoot=function(t,e){if(!Xu(t))throw Error(E(299));var n=!1,r="",i=lm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ku(t,1,!1,null,null,n,!1,r,i),t[Nt]=e.current,mi(t.nodeType===8?t.parentNode:t),new qu(e)};Be.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Rf(e),t=t===null?null:t.stateNode,t};Be.flushSync=function(t){return Sn(t)};Be.hydrate=function(t,e,n){if(!Oo(e))throw Error(E(200));return Fo(null,t,e,!0,n)};Be.hydrateRoot=function(t,e,n){if(!Xu(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=lm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=om(e,null,t,1,n??null,i,!1,s,o),t[Nt]=e.current,mi(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lo(e)};Be.render=function(t,e,n){if(!Oo(e))throw Error(E(200));return Fo(null,t,e,!1,n)};Be.unmountComponentAtNode=function(t){if(!Oo(t))throw Error(E(40));return t._reactRootContainer?(Sn(function(){Fo(null,null,t,!1,function(){t._reactRootContainer=null,t[Nt]=null})}),!0):!1};Be.unstable_batchedUpdates=Hu;Be.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Oo(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Fo(t,e,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426";function am(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(am)}catch(t){console.error(t)}}am(),af.exports=Be;var Av=af.exports,um,Kd=Av;um=Kd.createRoot,Kd.hydrateRoot;/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Yd="popstate";function jv(t={}){function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return ja("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Si(i)}return Ov(e,n,null,t)}function J(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function at(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lv(){return Math.random().toString(36).substring(2,10)}function qd(t,e){return{usr:t.state,key:t.key,idx:e}}function ja(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xr(e):e,state:n,key:e&&e.key||r||Lv()}}function Si({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Ov(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l="POP",a=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let C=d(),y=C==null?null:C-u;u=C,a&&a({action:l,location:x.location,delta:y})}function h(C,y){l="PUSH";let p=ja(x.location,C,y);u=d()+1;let m=qd(p,u),w=x.createHref(p);try{o.pushState(m,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(w)}s&&a&&a({action:l,location:x.location,delta:1})}function g(C,y){l="REPLACE";let p=ja(x.location,C,y);u=d();let m=qd(p,u),w=x.createHref(p);o.replaceState(m,"",w),s&&a&&a({action:l,location:x.location,delta:0})}function v(C){return Fv(C)}let x={get action(){return l},get location(){return t(i,o)},listen(C){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Yd,f),a=C,()=>{i.removeEventListener(Yd,f),a=null}},createHref(C){return e(i,C)},createURL:v,encodeLocation(C){let y=v(C);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:g,go(C){return o.go(C)}};return x}function Fv(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),J(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Si(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function cm(t,e,n="/"){return zv(t,e,n,!1)}function zv(t,e,n,r){let i=typeof e=="string"?xr(e):e,s=Tt(i.pathname||"/",n);if(s==null)return null;let o=dm(t);Wv(o);let l=null;for(let a=0;l==null&&a<o.length;++a){let u=Xv(s);l=Yv(o[a],u,r)}return l}function dm(t,e=[],n=[],r="",i=!1){let s=(o,l,a=i,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&a)return;J(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=Ct([r,d.relativePath]),h=n.concat(d);o.children&&o.children.length>0&&(J(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),dm(o.children,e,h,f,a)),!(o.path==null&&!o.index)&&e.push({path:f,score:Qv(f,o.index),routesMeta:h})};return t.forEach((o,l)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,l);else for(let u of hm(o.path))s(o,l,!0,u)}),e}function hm(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=hm(r.join("/")),l=[];return l.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&l.push(...o),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function Wv(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Kv(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var $v=/^:[\w-]+$/,Uv=3,Bv=2,Hv=1,Vv=10,Gv=-2,Xd=t=>t==="*";function Qv(t,e){let n=t.split("/"),r=n.length;return n.some(Xd)&&(r+=Gv),e&&(r+=Bv),n.filter(i=>!Xd(i)).reduce((i,s)=>i+($v.test(s)?Uv:s===""?Hv:Vv),r)}function Kv(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Yv(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=ro({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d),h=a.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ro({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:Ct([s,f.pathname]),pathnameBase:t_(Ct([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Ct([s,f.pathnameBase]))}return o}function ro(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qv(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let v=l[h]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[h];return f&&!g?u[d]=void 0:u[d]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function qv(t,e=!1,n=!0){at(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Xv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return at(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Tt(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Jv(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xr(t):t;return{pathname:n?n.startsWith("/")?n:Zv(n,e):e,search:n_(r),hash:r_(i)}}function Zv(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Il(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function e_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ju(t){let e=e_(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Zu(t,e,n,r=!1){let i;typeof t=="string"?i=xr(t):(i={...t},J(!i.pathname||!i.pathname.includes("?"),Il("?","pathname","search",i)),J(!i.pathname||!i.pathname.includes("#"),Il("#","pathname","hash",i)),J(!i.search||!i.search.includes("#"),Il("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?e[f]:"/"}let a=Jv(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||d)&&(a.pathname+="/"),a}var Ct=t=>t.join("/").replace(/\/\/+/g,"/"),t_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),n_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,r_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function i_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var fm=["POST","PUT","PATCH","DELETE"];new Set(fm);var s_=["GET",...fm];new Set(s_);var wr=_.createContext(null);wr.displayName="DataRouter";var zo=_.createContext(null);zo.displayName="DataRouterState";_.createContext(!1);var pm=_.createContext({isTransitioning:!1});pm.displayName="ViewTransition";var o_=_.createContext(new Map);o_.displayName="Fetchers";var l_=_.createContext(null);l_.displayName="Await";var ut=_.createContext(null);ut.displayName="Navigation";var zi=_.createContext(null);zi.displayName="Location";var mt=_.createContext({outlet:null,matches:[],isDataRoute:!1});mt.displayName="Route";var ec=_.createContext(null);ec.displayName="RouteError";function a_(t,{relative:e}={}){J(Cr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(ut),{hash:i,pathname:s,search:o}=$i(t,{relative:e}),l=s;return n!=="/"&&(l=s==="/"?n:Ct([n,s])),r.createHref({pathname:l,search:o,hash:i})}function Cr(){return _.useContext(zi)!=null}function Dt(){return J(Cr(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(zi).location}var mm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gm(t){_.useContext(ut).static||_.useLayoutEffect(t)}function Wi(){let{isDataRoute:t}=_.useContext(mt);return t?w_():u_()}function u_(){J(Cr(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(wr),{basename:e,navigator:n}=_.useContext(ut),{matches:r}=_.useContext(mt),{pathname:i}=Dt(),s=JSON.stringify(Ju(r)),o=_.useRef(!1);return gm(()=>{o.current=!0}),_.useCallback((a,u={})=>{if(at(o.current,mm),!o.current)return;if(typeof a=="number"){n.go(a);return}let d=Zu(a,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ct([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,s,i,t])}_.createContext(null);function $i(t,{relative:e}={}){let{matches:n}=_.useContext(mt),{pathname:r}=Dt(),i=JSON.stringify(Ju(n));return _.useMemo(()=>Zu(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function c_(t,e){return ym(t,e)}function ym(t,e,n,r,i){var p;J(Cr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=_.useContext(ut),{matches:o}=_.useContext(mt),l=o[o.length-1],a=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",f=l&&l.route;{let m=f&&f.path||"";vm(u,!f||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let h=Dt(),g;if(e){let m=typeof e=="string"?xr(e):e;J(d==="/"||((p=m.pathname)==null?void 0:p.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${m.pathname}" was given in the \`location\` prop.`),g=m}else g=h;let v=g.pathname||"/",x=v;if(d!=="/"){let m=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(m.length).join("/")}let C=cm(t,{pathname:x});at(f||C!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),at(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=m_(C&&C.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:Ct([d,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?d:Ct([d,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r,i);return e&&y?_.createElement(zi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},y):y}function d_(){let t=x_(),e=i_(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:s},"ErrorBoundary")," or"," ",_.createElement("code",{style:s},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,o)}var h_=_.createElement(d_,null),f_=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(mt.Provider,{value:this.props.routeContext},_.createElement(ec.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p_({routeContext:t,match:e,children:n}){let r=_.useContext(wr);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(mt.Provider,{value:t},n)}function m_(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let u=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);J(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,a=-1;if(n)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(a=u),d.route.id){let{loaderData:f,errors:h}=n,g=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){l=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let h,g=!1,v=null,x=null;n&&(h=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||h_,l&&(a<0&&f===0?(vm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,x=null):a===f&&(g=!0,x=d.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,f+1)),y=()=>{let p;return h?p=v:g?p=x:d.route.Component?p=_.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=u,_.createElement(p_,{match:d,routeContext:{outlet:u,matches:C,isDataRoute:n!=null},children:p})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?_.createElement(f_,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:y(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:r}):y()},null)}function tc(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g_(t){let e=_.useContext(wr);return J(e,tc(t)),e}function y_(t){let e=_.useContext(zo);return J(e,tc(t)),e}function v_(t){let e=_.useContext(mt);return J(e,tc(t)),e}function nc(t){let e=v_(t),n=e.matches[e.matches.length-1];return J(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function __(){return nc("useRouteId")}function x_(){var r;let t=_.useContext(ec),e=y_("useRouteError"),n=nc("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function w_(){let{router:t}=g_("useNavigate"),e=nc("useNavigate"),n=_.useRef(!1);return gm(()=>{n.current=!0}),_.useCallback(async(i,s={})=>{at(n.current,mm),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Jd={};function vm(t,e,n){!e&&!Jd[t]&&(Jd[t]=!0,at(!1,n))}_.memo(C_);function C_({routes:t,future:e,state:n,unstable_onError:r}){return ym(t,void 0,n,r,e)}function rc({to:t,replace:e,state:n,relative:r}){J(Cr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=_.useContext(ut);at(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=_.useContext(mt),{pathname:o}=Dt(),l=Wi(),a=Zu(t,Ju(s),o,r==="path"),u=JSON.stringify(a);return _.useEffect(()=>{l(JSON.parse(u),{replace:e,state:n,relative:r})},[l,u,r,e,n]),null}function dn(t){J(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function E_({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){J(!Cr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=xr(n));let{pathname:a="/",search:u="",hash:d="",state:f=null,key:h="default"}=n,g=_.useMemo(()=>{let v=Tt(a,o);return v==null?null:{location:{pathname:v,search:u,hash:d,state:f,key:h},navigationType:r}},[o,a,u,d,f,h,r]);return at(g!=null,`<Router basename="${o}"> is not able to match the URL "${a}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:_.createElement(ut.Provider,{value:l},_.createElement(zi.Provider,{children:e,value:g}))}function S_({children:t,location:e}){return c_(La(t),e)}function La(t,e=[]){let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,La(r.props.children,s));return}J(r.type===dn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),J(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=La(r.props.children,s)),n.push(o)}),n}var Ps="get",bs="application/x-www-form-urlencoded";function Wo(t){return t!=null&&typeof t.tagName=="string"}function N_(t){return Wo(t)&&t.tagName.toLowerCase()==="button"}function k_(t){return Wo(t)&&t.tagName.toLowerCase()==="form"}function I_(t){return Wo(t)&&t.tagName.toLowerCase()==="input"}function T_(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R_(t,e){return t.button===0&&(!e||e==="_self")&&!T_(t)}var ms=null;function P_(){if(ms===null)try{new FormData(document.createElement("form"),0),ms=!1}catch{ms=!0}return ms}var b_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tl(t){return t!=null&&!b_.has(t)?(at(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bs}"`),null):t}function D_(t,e){let n,r,i,s,o;if(k_(t)){let l=t.getAttribute("action");r=l?Tt(l,e):null,n=t.getAttribute("method")||Ps,i=Tl(t.getAttribute("enctype"))||bs,s=new FormData(t)}else if(N_(t)||I_(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=t.getAttribute("formaction")||l.getAttribute("action");if(r=a?Tt(a,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Ps,i=Tl(t.getAttribute("formenctype"))||Tl(l.getAttribute("enctype"))||bs,s=new FormData(l,t),!P_()){let{name:u,type:d,value:f}=t;if(d==="image"){let h=u?`${u}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else u&&s.append(u,f)}}else{if(Wo(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ps,r=null,i=bs,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ic(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M_(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Tt(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function A_(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j_(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function L_(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await A_(s,n);return o.links?o.links():[]}return[]}));return W_(r.flat(1).filter(j_).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Zd(t,e,n,r,i,s){let o=(a,u)=>n[u]?a.route.id!==n[u].route.id:!0,l=(a,u)=>{var d;return n[u].pathname!==a.pathname||((d=n[u].route.path)==null?void 0:d.endsWith("*"))&&n[u].params["*"]!==a.params["*"]};return s==="assets"?e.filter((a,u)=>o(a,u)||l(a,u)):s==="data"?e.filter((a,u)=>{var f;let d=r.routes[a.route.id];if(!d||!d.hasLoader)return!1;if(o(a,u)||l(a,u))return!0;if(a.route.shouldRevalidate){let h=a.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function O_(t,e,{includeHydrateFallback:n}={}){return F_(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function F_(t){return[...new Set(t)]}function z_(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function W_(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(z_(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function _m(){let t=_.useContext(wr);return ic(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $_(){let t=_.useContext(zo);return ic(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sc=_.createContext(void 0);sc.displayName="FrameworkContext";function xm(){let t=_.useContext(sc);return ic(t,"You must render this element inside a <HydratedRouter> element"),t}function U_(t,e){let n=_.useContext(sc),[r,i]=_.useState(!1),[s,o]=_.useState(!1),{onFocus:l,onBlur:a,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=e,h=_.useRef(null);_.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let x=y=>{y.forEach(p=>{o(p.isIntersecting)})},C=new IntersectionObserver(x,{threshold:.5});return h.current&&C.observe(h.current),()=>{C.disconnect()}}},[t]),_.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let g=()=>{i(!0)},v=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,h,{}]:[s,h,{onFocus:Lr(l,g),onBlur:Lr(a,v),onMouseEnter:Lr(u,g),onMouseLeave:Lr(d,v),onTouchStart:Lr(f,g)}]:[!1,h,{}]}function Lr(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function B_({page:t,...e}){let{router:n}=_m(),r=_.useMemo(()=>cm(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(V_,{page:t,matches:r,...e}):null}function H_(t){let{manifest:e,routeModules:n}=xm(),[r,i]=_.useState([]);return _.useEffect(()=>{let s=!1;return L_(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function V_({page:t,matches:e,...n}){let r=Dt(),{manifest:i,routeModules:s}=xm(),{basename:o}=_m(),{loaderData:l,matches:a}=$_(),u=_.useMemo(()=>Zd(t,e,a,i,r,"data"),[t,e,a,i,r]),d=_.useMemo(()=>Zd(t,e,a,i,r,"assets"),[t,e,a,i,r]),f=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,x=!1;if(e.forEach(y=>{var m;let p=i.routes[y.route.id];!p||!p.hasLoader||(!u.some(w=>w.route.id===y.route.id)&&y.route.id in l&&((m=s[y.route.id])!=null&&m.shouldRevalidate)||p.hasClientLoader?x=!0:v.add(y.route.id))}),v.size===0)return[];let C=M_(t,o,"data");return x&&v.size>0&&C.searchParams.set("_routes",e.filter(y=>v.has(y.route.id)).map(y=>y.route.id).join(",")),[C.pathname+C.search]},[o,l,r,i,u,e,t,s]),h=_.useMemo(()=>O_(d,i),[d,i]),g=H_(d);return _.createElement(_.Fragment,null,f.map(v=>_.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>_.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),g.map(({key:v,link:x})=>_.createElement("link",{key:v,nonce:n.nonce,...x})))}function G_(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wm&&(window.__reactRouterVersion="7.8.2")}catch{}function Q_({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=jv({window:n,v5Compat:!0}));let i=r.current,[s,o]=_.useState({action:i.action,location:i.location}),l=_.useCallback(a=>{_.startTransition(()=>o(a))},[o]);return _.useLayoutEffect(()=>i.listen(l),[i,l]),_.createElement(E_,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i})}var Cm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hr=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:l,target:a,to:u,preventScrollReset:d,viewTransition:f,...h},g){let{basename:v}=_.useContext(ut),x=typeof u=="string"&&Cm.test(u),C,y=!1;if(typeof u=="string"&&x&&(C=u,wm))try{let z=new URL(window.location.href),D=u.startsWith("//")?new URL(z.protocol+u):new URL(u),Re=Tt(D.pathname,v);D.origin===z.origin&&Re!=null?u=Re+D.search+D.hash:y=!0}catch{at(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=a_(u,{relative:i}),[m,w,N]=U_(r,h),k=X_(u,{replace:o,state:l,target:a,preventScrollReset:d,relative:i,viewTransition:f});function R(z){e&&e(z),z.defaultPrevented||k(z)}let P=_.createElement("a",{...h,...N,href:C||p,onClick:y||s?e:R,ref:G_(g,w),target:a,"data-discover":!x&&n==="render"?"true":void 0});return m&&!x?_.createElement(_.Fragment,null,P,_.createElement(B_,{page:p})):P});hr.displayName="Link";var K_=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:l,children:a,...u},d){let f=$i(o,{relative:u.relative}),h=Dt(),g=_.useContext(zo),{navigator:v,basename:x}=_.useContext(ut),C=g!=null&&n1(f)&&l===!0,y=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,p=h.pathname,m=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(p=p.toLowerCase(),m=m?m.toLowerCase():null,y=y.toLowerCase()),m&&x&&(m=Tt(m,x)||m);const w=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let N=p===y||!i&&p.startsWith(y)&&p.charAt(w)==="/",k=m!=null&&(m===y||!i&&m.startsWith(y)&&m.charAt(y.length)==="/"),R={isActive:N,isPending:k,isTransitioning:C},P=N?e:void 0,z;typeof r=="function"?z=r(R):z=[r,N?"active":null,k?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let D=typeof s=="function"?s(R):s;return _.createElement(hr,{...u,"aria-current":P,className:z,ref:d,style:D,to:o,viewTransition:l},typeof a=="function"?a(R):a)});K_.displayName="NavLink";var Y_=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Ps,action:l,onSubmit:a,relative:u,preventScrollReset:d,viewTransition:f,...h},g)=>{let v=e1(),x=t1(l,{relative:u}),C=o.toLowerCase()==="get"?"get":"post",y=typeof l=="string"&&Cm.test(l),p=m=>{if(a&&a(m),m.defaultPrevented)return;m.preventDefault();let w=m.nativeEvent.submitter,N=(w==null?void 0:w.getAttribute("formmethod"))||o;v(w||m.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:i,state:s,relative:u,preventScrollReset:d,viewTransition:f})};return _.createElement("form",{ref:g,method:C,action:x,onSubmit:r?a:p,...h,"data-discover":!y&&t==="render"?"true":void 0})});Y_.displayName="Form";function q_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Em(t){let e=_.useContext(wr);return J(e,q_(t)),e}function X_(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=Wi(),a=Dt(),u=$i(t,{relative:s});return _.useCallback(d=>{if(R_(d,e)){d.preventDefault();let f=n!==void 0?n:Si(a)===Si(u);l(t,{replace:f,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[a,l,u,n,r,e,t,i,s,o])}var J_=0,Z_=()=>`__${String(++J_)}__`;function e1(){let{router:t}=Em("useSubmit"),{basename:e}=_.useContext(ut),n=__();return _.useCallback(async(r,i={})=>{let{action:s,method:o,encType:l,formData:a,body:u}=D_(r,e);if(i.navigate===!1){let d=i.fetcherKey||Z_();await t.fetch(d,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:a,body:u,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:a,body:u,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function t1(t,{relative:e}={}){let{basename:n}=_.useContext(ut),r=_.useContext(mt);J(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...$i(t||".",{relative:e})},o=Dt();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),a=l.getAll("index");if(a.some(d=>d==="")){l.delete("index"),a.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();s.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Ct([n,s.pathname])),Si(s)}function n1(t,{relative:e}={}){let n=_.useContext(pm);J(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Em("useViewTransitionState"),i=$i(t,{relative:e});if(!n.isTransitioning)return!1;let s=Tt(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Tt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ro(i.pathname,o)!=null||ro(i.pathname,s)!=null}const Sm=_.createContext(void 0),Ui=()=>{const t=_.useContext(Sm);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},r1=({children:t})=>{const[e,n]=_.useState(null),[r,i]=_.useState(!0);_.useEffect(()=>{const a=localStorage.getItem("user");a&&n(JSON.parse(a)),i(!1)},[]);const s=async(a,u)=>{i(!0);try{if(await new Promise(d=>setTimeout(d,1e3)),a&&u){const d={id:Date.now().toString(),email:a,name:a.split("@")[0]};return n(d),localStorage.setItem("user",JSON.stringify(d)),!0}return!1}finally{i(!1)}},o=async(a,u,d)=>{i(!0);try{if(await new Promise(f=>setTimeout(f,1e3)),a&&u&&d){const f={id:Date.now().toString(),email:u,name:a};return n(f),localStorage.setItem("user",JSON.stringify(f)),!0}return!1}finally{i(!1)}},l=()=>{n(null),localStorage.removeItem("user")};return c.jsx(Sm.Provider,{value:{user:e,login:s,register:o,logout:l,loading:r},children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(t,e)=>{const n=_.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:a,...u},d)=>_.createElement("svg",{ref:d,...i1,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${s1(t)}`,l].join(" "),...u},[...e.map(([f,h])=>_.createElement(f,h)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=B("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=B("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=B("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=B("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=B("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=B("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=B("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=B("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=B("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=B("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=B("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=B("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=B("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=B("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=B("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=B("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=B("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=B("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Rl=({children:t})=>{const{user:e,logout:n}=Ui(),r=Wi(),i=Dt(),s=()=>{n(),r("/login")},o=[{name:"Dashboard",href:"/dashboard",icon:d1},{name:"Analytics",href:"/analytics",icon:oc},{name:"About",href:"/about",icon:h1}],l=a=>i.pathname===a;return e?c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsxs("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx($o,{className:"h-8 w-8 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Waste Management"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Environmental Monitoring System"})]})]}),c.jsx("div",{className:"hidden md:block",children:c.jsx("div",{className:"flex space-x-1",children:o.map(a=>{const u=a.icon;return c.jsxs(hr,{to:a.href,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center space-x-2 ${l(a.href)?"bg-green-100 text-green-700 shadow-sm":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[c.jsx(u,{className:"h-4 w-4"}),c.jsx("span",{children:a.name})]},a.name)})})}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(Tm,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden sm:inline",children:e.name})]}),c.jsx("button",{onClick:s,className:"p-2 rounded-lg text-gray-400 hover:text-red-600 hover:bg-red-50 transition-colors duration-200",title:"Logout",children:c.jsx(m1,{className:"h-5 w-5"})})]})]})}),c.jsx("div",{className:"md:hidden px-4 pb-3 space-y-1",children:o.map(a=>{const u=a.icon;return c.jsxs(hr,{to:a.href,className:`block px-3 py-2 rounded-lg text-base font-medium transition-all duration-200 flex items-center space-x-2 ${l(a.href)?"bg-green-100 text-green-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[c.jsx(u,{className:"h-5 w-5"}),c.jsx("span",{children:a.name})]},a.name)})})]}),c.jsx("main",{className:"flex-1",children:t})]}):c.jsx(c.Fragment,{children:t})},k1=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,s]=_.useState(!1),[o,l]=_.useState(""),{login:a,loading:u}=Ui(),d=Wi(),f=async h=>{if(h.preventDefault(),l(""),!t||!n){l("Please fill in all fields");return}await a(t,n)?d("/dashboard"):l("Invalid credentials")};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-400 via-blue-500 to-purple-600 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[c.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 px-8 py-6 text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"bg-white rounded-full p-3",children:c.jsx($o,{className:"h-8 w-8 text-green-600"})})}),c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Welcome Back"}),c.jsx("p",{className:"text-green-100 mt-1",children:"Sign in to your account"})]}),c.jsxs("div",{className:"p-8",children:[o&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:o}),c.jsxs("form",{onSubmit:f,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(Im,{className:"h-5 w-5 text-gray-400 absolute left-3 top-3"}),c.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Oa,{className:"h-5 w-5 text-gray-400 absolute left-3 top-3"}),c.jsx("input",{type:i?"text":"password",value:n,onChange:h=>r(h.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your password"}),c.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:i?c.jsx(Nm,{className:"h-5 w-5"}):c.jsx(km,{className:"h-5 w-5"})})]})]}),c.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-green-600 to-blue-600 text-white py-3 px-4 rounded-lg hover:from-green-700 hover:to-blue-700 focus:ring-4 focus:ring-green-200 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Signing in...":"Sign In"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",c.jsx(hr,{to:"/register",className:"text-green-600 hover:text-green-700 font-medium",children:"Sign up"})]})})]})]})})},I1=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(""),[i,s]=_.useState(""),[o,l]=_.useState(""),[a,u]=_.useState(!1),[d,f]=_.useState(""),{register:h,loading:g}=Ui(),v=Wi(),x=async C=>{if(C.preventDefault(),f(""),!t||!n||!i||!o){f("Please fill in all fields");return}if(i!==o){f("Passwords do not match");return}if(i.length<6){f("Password must be at least 6 characters");return}await h(t,n,i)?v("/dashboard"):f("Registration failed")};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-400 via-pink-500 to-red-500 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[c.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-8 py-6 text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"bg-white rounded-full p-3",children:c.jsx($o,{className:"h-8 w-8 text-purple-600"})})}),c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create Account"}),c.jsx("p",{className:"text-purple-100 mt-1",children:"Join our environmental monitoring system"})]}),c.jsxs("div",{className:"p-8",children:[d&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:d}),c.jsxs("form",{onSubmit:x,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(Tm,{className:"h-5 w-5 text-gray-400 absolute left-3 top-3"}),c.jsx("input",{type:"text",value:t,onChange:C=>e(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your full name"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(Im,{className:"h-5 w-5 text-gray-400 absolute left-3 top-3"}),c.jsx("input",{type:"email",value:n,onChange:C=>r(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Oa,{className:"h-5 w-5 text-gray-400 absolute left-3 top-3"}),c.jsx("input",{type:a?"text":"password",value:i,onChange:C=>s(C.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"Create a password"}),c.jsx("button",{type:"button",onClick:()=>u(!a),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:a?c.jsx(Nm,{className:"h-5 w-5"}):c.jsx(km,{className:"h-5 w-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(Oa,{className:"h-5 w-5 text-gray-400 absolute left-3 top-3"}),c.jsx("input",{type:a?"text":"password",value:o,onChange:C=>l(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"Confirm your password"})]})]}),c.jsx("button",{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-4 rounded-lg hover:from-purple-700 hover:to-pink-700 focus:ring-4 focus:ring-purple-200 transition-all duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Creating account...":"Create Account"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",c.jsx(hr,{to:"/login",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Sign in"})]})})]})]})})},T1=()=>{};var nh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S=function(t,e){if(!t)throw Er(e)},Er=function(t){return new Error("Firebase Database ("+Rm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},R1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,d=s>>2,f=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,g=u&63;a||(g=64,o||(h=64)),r.push(n[d],n[f],n[h],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Pm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):R1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||f==null)throw new P1;const h=s<<2|l>>4;if(r.push(h),u!==64){const g=l<<4&240|u>>2;if(r.push(g),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bm=function(t){const e=Pm(t);return lc.encodeByteArray(e,!0)},io=function(t){return bm(t).replace(/\./g,"")},Fa=function(t){try{return lc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(t){return Dm(void 0,t)}function Dm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!D1(n)||(t[n]=Dm(t[n],e[n]));return t}function D1(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=()=>M1().__FIREBASE_DEFAULTS__,j1=()=>{if(typeof process>"u"||typeof nh>"u")return;const t=nh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fa(t[1]);return e&&JSON.parse(e)},Mm=()=>{try{return T1()||A1()||j1()||L1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},O1=t=>{var e,n;return(n=(e=Mm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},F1=t=>{const e=O1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Am=()=>{var t;return(t=Mm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[io(JSON.stringify(n)),io(JSON.stringify(o)),""].join(".")}const ti={};function $1(){const t={prod:[],emulator:[]};for(const e of Object.keys(ti))ti[e]?t.emulator.push(e):t.prod.push(e);return t}function U1(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rh=!1;function B1(t,e){if(typeof window>"u"||typeof document>"u"||!uc(window.location.host)||ti[t]===e||ti[t]||rh)return;ti[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",s=$1().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function a(h,g){h.setAttribute("width","24"),h.setAttribute("id",g),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{rh=!0,o()},h}function d(h,g){h.setAttribute("id",g),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=U1(r),g=n("text"),v=document.getElementById(g)||document.createElement("span"),x=n("learnmore"),C=document.getElementById(x)||document.createElement("a"),y=n("preprendIcon"),p=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const m=h.element;l(m),d(C,x);const w=u();a(p,y),m.append(p,v,C,w),document.body.appendChild(m)}s?(v.innerText="Preview backend disconnected.",p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(H1())}function V1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lm(){return Rm.NODE_ADMIN===!0}function G1(){try{return typeof indexedDB=="object"}catch{return!1}}function Q1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="FirebaseError";class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=K1,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Om.prototype.create)}}class Om{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Y1(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Bi(i,l,r)}}function Y1(t,e){return t.replace(q1,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const q1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t){return JSON.parse(t)}function pe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ni(Fa(s[0])||""),n=Ni(Fa(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},X1=function(t){const e=Fm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},J1=function(t){const e=Fm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ih(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function so(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(sh(s)&&sh(o)){if(!oo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const h=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,d;for(let f=0;f<80;f++){f<40?f<20?(u=l^s&(o^l),d=1518500249):(u=s^o^l,d=1859775393):f<60?(u=s&o|l&(s|o),d=2400959708):(u=s^o^l,d=3395469782);const h=(i<<5|i>>>27)+u+a+d+r[f]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function zm(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,S(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Uo=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(t){return t&&t._delegate?t._delegate:t}class ki{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ac;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ix(e))try{this.getOrInitializeService({instanceIdentifier:hn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hn){return this.instances.has(e)}getOptions(e=hn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hn){return this.component?this.component.multipleInstances?e:hn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rx(t){return t===hn?void 0:t}function ix(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(V||(V={}));const ox={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},lx=V.INFO,ax={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ux=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ax[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=lx,this._logHandler=ux,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in V))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ox[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...e),this._logHandler(this,V.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...e),this._logHandler(this,V.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,V.INFO,...e),this._logHandler(this,V.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,V.WARN,...e),this._logHandler(this,V.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...e),this._logHandler(this,V.ERROR,...e)}}const cx=(t,e)=>e.some(n=>t instanceof n);let oh,lh;function dx(){return oh||(oh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hx(){return lh||(lh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $m=new WeakMap,za=new WeakMap,Um=new WeakMap,Pl=new WeakMap,cc=new WeakMap;function fx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yt(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$m.set(n,t)}).catch(()=>{}),cc.set(e,t),e}function px(t){if(za.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});za.set(t,e)}let Wa={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return za.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Um.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mx(t){Wa=t(Wa)}function gx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bl(this),e,...n);return Um.set(r,e.sort?e.sort():[e]),Yt(r)}:hx().includes(t)?function(...e){return t.apply(bl(this),e),Yt($m.get(this))}:function(...e){return Yt(t.apply(bl(this),e))}}function yx(t){return typeof t=="function"?gx(t):(t instanceof IDBTransaction&&px(t),cx(t,dx())?new Proxy(t,Wa):t)}function Yt(t){if(t instanceof IDBRequest)return fx(t);if(Pl.has(t))return Pl.get(t);const e=yx(t);return e!==t&&(Pl.set(t,e),cc.set(e,t)),e}const bl=t=>cc.get(t);function vx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Yt(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Yt(o.result),a.oldVersion,a.newVersion,Yt(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const _x=["get","getKey","getAll","getAllKeys","count"],xx=["put","add","delete","clear"],Dl=new Map;function ah(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dl.get(e))return Dl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_x.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return Dl.set(e,s),s}mx(t=>({...t,get:(e,n,r)=>ah(e,n)||t.get(e,n,r),has:(e,n)=>!!ah(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Cx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $a="@firebase/app",uh="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt=new Wm("@firebase/app"),Ex="@firebase/app-compat",Sx="@firebase/analytics-compat",Nx="@firebase/analytics",kx="@firebase/app-check-compat",Ix="@firebase/app-check",Tx="@firebase/auth",Rx="@firebase/auth-compat",Px="@firebase/database",bx="@firebase/data-connect",Dx="@firebase/database-compat",Mx="@firebase/functions",Ax="@firebase/functions-compat",jx="@firebase/installations",Lx="@firebase/installations-compat",Ox="@firebase/messaging",Fx="@firebase/messaging-compat",zx="@firebase/performance",Wx="@firebase/performance-compat",$x="@firebase/remote-config",Ux="@firebase/remote-config-compat",Bx="@firebase/storage",Hx="@firebase/storage-compat",Vx="@firebase/firestore",Gx="@firebase/ai",Qx="@firebase/firestore-compat",Kx="firebase",Yx="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]",qx={[$a]:"fire-core",[Ex]:"fire-core-compat",[Nx]:"fire-analytics",[Sx]:"fire-analytics-compat",[Ix]:"fire-app-check",[kx]:"fire-app-check-compat",[Tx]:"fire-auth",[Rx]:"fire-auth-compat",[Px]:"fire-rtdb",[bx]:"fire-data-connect",[Dx]:"fire-rtdb-compat",[Mx]:"fire-fn",[Ax]:"fire-fn-compat",[jx]:"fire-iid",[Lx]:"fire-iid-compat",[Ox]:"fire-fcm",[Fx]:"fire-fcm-compat",[zx]:"fire-perf",[Wx]:"fire-perf-compat",[$x]:"fire-rc",[Ux]:"fire-rc-compat",[Bx]:"fire-gcs",[Hx]:"fire-gcs-compat",[Vx]:"fire-fst",[Qx]:"fire-fst-compat",[Gx]:"fire-vertex","fire-js":"fire-js",[Kx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Map,Xx=new Map,Ba=new Map;function ch(t,e){try{t.container.addComponent(e)}catch(n){Rt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ao(t){const e=t.name;if(Ba.has(e))return Rt.debug(`There were multiple attempts to register component ${e}.`),!1;Ba.set(e,t);for(const n of lo.values())ch(n,t);for(const n of Xx.values())ch(n,t);return!0}function Jx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zx(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qt=new Om("app","Firebase",ew);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=Yx;function Bm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ua,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw qt.create("bad-app-name",{appName:String(i)});if(n||(n=Am()),!n)throw qt.create("no-options");const s=lo.get(i);if(s){if(oo(n,s.options)&&oo(r,s.config))return s;throw qt.create("duplicate-app",{appName:i})}const o=new sx(i);for(const a of Ba.values())o.addComponent(a);const l=new tw(n,r,o);return lo.set(i,l),l}function rw(t=Ua){const e=lo.get(t);if(!e&&t===Ua&&Am())return Bm();if(!e)throw qt.create("no-app",{appName:t});return e}function tr(t,e,n){let r=qx[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rt.warn(o.join(" "));return}ao(new ki(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="firebase-heartbeat-database",sw=1,Ii="firebase-heartbeat-store";let Ml=null;function Hm(){return Ml||(Ml=vx(iw,sw,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ii)}catch(n){console.warn(n)}}}}).catch(t=>{throw qt.create("idb-open",{originalErrorMessage:t.message})})),Ml}async function ow(t){try{const n=(await Hm()).transaction(Ii),r=await n.objectStore(Ii).get(Vm(t));return await n.done,r}catch(e){if(e instanceof Bi)Rt.warn(e.message);else{const n=qt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rt.warn(n.message)}}}async function dh(t,e){try{const r=(await Hm()).transaction(Ii,"readwrite");await r.objectStore(Ii).put(e,Vm(t)),await r.done}catch(n){if(n instanceof Bi)Rt.warn(n.message);else{const r=qt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rt.warn(r.message)}}}function Vm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=1024,aw=30;class uw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hh();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>aw){const o=hw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hh(),{heartbeatsToSend:r,unsentEntries:i}=cw(this._heartbeatsCache.heartbeats),s=io(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Rt.warn(n),""}}}function hh(){return new Date().toISOString().substring(0,10)}function cw(t,e=lw){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fh(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G1()?Q1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ow(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dh(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return dh(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fh(t){return io(JSON.stringify({version:2,heartbeats:t})).length}function hw(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(t){ao(new ki("platform-logger",e=>new wx(e),"PRIVATE")),ao(new ki("heartbeat",e=>new uw(e),"PRIVATE")),tr($a,uh,t),tr($a,uh,"esm2020"),tr("fire-js","")}fw("");var pw="firebase",mw="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr(pw,mw,"app");var ph={};const mh="@firebase/database",gh="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm="";function gw(t){Gm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),pe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ni(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Mt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new yw(e)}}catch{}return new vw},yn=Qm("localStorage"),_w=Qm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Wm("@firebase/database"),xw=function(){let t=1;return function(){return t++}}(),Km=function(t){const e=tx(t),n=new ex;n.update(e);const r=n.digest();return lc.encodeByteArray(r)},Hi=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Hi.apply(null,r):typeof r=="object"?e+=pe(r):e+=r,e+=" "}return e};let ni=null,yh=!0;const ww=function(t,e){S(!e,"Can't turn on custom loggers persistently."),nr.logLevel=V.VERBOSE,ni=nr.log.bind(nr)},Ce=function(...t){if(yh===!0&&(yh=!1,ni===null&&_w.get("logging_enabled")===!0&&ww()),ni){const e=Hi.apply(null,t);ni(e)}},Vi=function(t){return function(...e){Ce(t,...e)}},Ha=function(...t){const e="FIREBASE INTERNAL ERROR: "+Hi(...t);nr.error(e)},Pt=function(...t){const e=`FIREBASE FATAL ERROR: ${Hi(...t)}`;throw nr.error(e),new Error(e)},$e=function(...t){const e="FIREBASE WARNING: "+Hi(...t);nr.warn(e)},Cw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$e("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ym=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ew=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},pr="[MIN_NAME]",Nn="[MAX_NAME]",Sr=function(t,e){if(t===e)return 0;if(t===pr||e===Nn)return-1;if(e===pr||t===Nn)return 1;{const n=vh(t),r=vh(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Sw=function(t,e){return t===e?0:t<e?-1:1},Or=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+pe(e))},dc=function(t){if(typeof t!="object"||t===null)return pe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=pe(e[r]),n+=":",n+=dc(t[e[r]]);return n+="}",n},qm=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Oe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Xm=function(t){S(!Ym(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let f="";for(a=0;a<64;a+=8){let h=parseInt(d.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),f=f+h}return f.toLowerCase()},Nw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},kw=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Iw(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Tw=new RegExp("^-?(0*)\\d{1,10}$"),Rw=-2147483648,Pw=2147483647,vh=function(t){if(Tw.test(t)){const e=Number(t);if(e>=Rw&&e<=Pw)return e}return null},Gi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw $e("Exception was thrown by user callback.",n),e},Math.floor(0))}},bw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ri=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Zx(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){$e(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ce("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$e(e)}}class Ds{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ds.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="5",Jm="v",Zm="s",eg="r",tg="f",ng=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rg="ls",ig="p",Va="ac",sg="websocket",og="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1,u=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Aw(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ag(t,e,n){S(typeof e=="string","typeof type must == string"),S(typeof n=="object","typeof params must == object");let r;if(e===sg)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===og)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Aw(t)&&(n.ns=t.namespace);const i=[];return Oe(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.counters_={}}incrementCounter(e,n=1){Mt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return b1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al={},jl={};function fc(t){const e=t.toString();return Al[e]||(Al[e]=new jw),Al[e]}function Lw(t,e){const n=t.toString();return jl[n]||(jl[n]=e()),jl[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Gi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="start",Fw="close",zw="pLPCommand",Ww="pRTLPCB",ug="id",cg="pw",dg="ser",$w="cb",Uw="seg",Bw="ts",Hw="d",Vw="dframe",hg=1870,fg=30,Gw=hg-fg,Qw=25e3,Kw=3e4;class Qn{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Vi(e),this.stats_=fc(n),this.urlFn=a=>(this.appCheckToken&&(a[Va]=this.appCheckToken),ag(n,og,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ow(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Kw)),Ew(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pc((...s)=>{const[o,l,a,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===_h)this.id=l,this.password=a;else if(o===Fw)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[_h]="t",r[dg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[$w]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Jm]=hc,this.transportSessionId&&(r[Zm]=this.transportSessionId),this.lastSessionId&&(r[rg]=this.lastSessionId),this.applicationId&&(r[ig]=this.applicationId),this.appCheckToken&&(r[Va]=this.appCheckToken),typeof location<"u"&&location.hostname&&ng.test(location.hostname)&&(r[eg]=tg);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qn.forceAllow_=!0}static forceDisallow(){Qn.forceDisallow_=!0}static isAvailable(){return Qn.forceAllow_?!0:!Qn.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Nw()&&!kw()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=bm(n),i=qm(r,Gw);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Vw]="t",r[ug]=e,r[cg]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=pe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class pc{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=xw(),window[zw+this.uniqueCallbackIdentifier]=e,window[Ww+this.uniqueCallbackIdentifier]=n,this.myIFrame=pc.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Ce("frame writing exception"),l.stack&&Ce(l.stack),Ce(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ce("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ug]=this.myID,e[cg]=this.myPW,e[dg]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fg+r.length<=hg;){const o=this.pendingSegs.shift();r=r+"&"+Uw+i+"="+o.seg+"&"+Bw+i+"="+o.ts+"&"+Hw+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Qw)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ce("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=16384,qw=45e3;let uo=null;typeof MozWebSocket<"u"?uo=MozWebSocket:typeof WebSocket<"u"&&(uo=WebSocket);class tt{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Vi(this.connId),this.stats_=fc(n),this.connURL=tt.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Jm]=hc,typeof location<"u"&&location.hostname&&ng.test(location.hostname)&&(o[eg]=tg),n&&(o[Zm]=n),r&&(o[rg]=r),i&&(o[Va]=i),s&&(o[ig]=s),ag(e,sg,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yn.set("previous_websocket_failure",!0);try{let r;Lm(),this.mySock=new uo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){tt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&uo!==null&&!tt.forceDisallow_}static previouslyFailed(){return yn.isInMemoryStorage||yn.get("previous_websocket_failure")===!0}markConnectionHealthy(){yn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ni(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(S(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=qm(n,Yw);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(qw))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tt.responsesRequiredToBeHealthy=2;tt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{static get ALL_TRANSPORTS(){return[Qn,tt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=tt&&tt.isAvailable();let r=n&&!tt.previouslyFailed();if(e.webSocketOnly&&(n||$e("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[tt];else{const i=this.transports_=[];for(const s of Ti.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ti.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ti.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=6e4,Jw=5e3,Zw=10*1024,eC=100*1024,Ll="t",xh="d",tC="s",wh="r",nC="e",Ch="o",Eh="a",Sh="n",Nh="p",rC="h";class iC{constructor(e,n,r,i,s,o,l,a,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Vi("c:"+this.id+":"),this.transportManager_=new Ti(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ri(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Zw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ll in e){const n=e[Ll];n===Eh?this.upgradeIfSecondaryHealthy_():n===wh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ch&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Or("t",e),r=Or("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Nh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Eh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Sh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Or("t",e),r=Or("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Or(Ll,e);if(xh in e){const r=e[xh];if(n===rC){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Sh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===tC?this.onConnectionShutdown_(r):n===wh?this.onReset_(r):n===nC?Ha("Server Error: "+r):n===Ch?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ha("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),hc!==r&&$e("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ri(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Xw))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ri(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Jw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Nh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.allowedEvents_=e,this.listeners_={},S(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){S(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends mg{static getInstance(){return new co}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!jm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return S(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=32,Ih=768;class H{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function $(){return new H("")}function L(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function en(t){return t.pieces_.length-t.pieceNum_}function G(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new H(t.pieces_,e)}function gg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function sC(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function yg(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function vg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new H(e,0)}function ae(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof H)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new H(n,0)}function O(t){return t.pieceNum_>=t.pieces_.length}function De(t,e){const n=L(t),r=L(e);if(n===null)return e;if(n===r)return De(G(t),G(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function mc(t,e){if(en(t)!==en(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function nt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(en(t)>en(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class oC{constructor(e,n){this.errorPrefix_=n,this.parts_=yg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Uo(this.parts_[r]);_g(this)}}function lC(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Uo(e),_g(t)}function aC(t){const e=t.parts_.pop();t.byteLength_-=Uo(e),t.parts_.length>0&&(t.byteLength_-=1)}function _g(t){if(t.byteLength_>Ih)throw new Error(t.errorPrefix_+"has a key path longer than "+Ih+" bytes ("+t.byteLength_+").");if(t.parts_.length>kh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+kh+") or object contains a cycle "+fn(t))}function fn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends mg{static getInstance(){return new gc}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return S(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=1e3,uC=60*5*1e3,Th=30*1e3,cC=1.3,dC=3e4,hC="server_kill",Rh=3;class Et extends pg{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Et.nextPersistentConnectionId_++,this.log_=Vi("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fr,this.maxReconnectDelay_=uC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Lm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&co.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(pe(s)),S(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ac,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),S(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Et.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Mt(e,"w")){const r=fr(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();$e(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||J1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Th)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=X1(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+pe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ha("Unrecognized action received from server: "+pe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){S(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>dC&&(this.reconnectDelay_=Fr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*cC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Et.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(f){S(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:a,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Ce("getToken() completed but was canceled"):(Ce("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new iC(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,g=>{$e(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(hC)},s))}catch(f){this.log_("Failed to get token: "+f),o||(this.repoInfo_.nodeAdmin&&$e(f),a())}}}interrupt(e){Ce("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ce("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ih(this.interruptReasons_)&&(this.reconnectDelay_=Fr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>dc(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new H(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ce("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Rh&&(this.reconnectDelay_=Th,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ce("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Rh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Gm.replace(/\./g,"-")]=1,jm()?e["framework.cordova"]=1:V1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=co.getInstance().currentlyOnline();return ih(this.interruptReasons_)&&e}}Et.nextPersistentConnectionId_=0;Et.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new j(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new j(pr,e),i=new j(pr,n);return this.compare(r,i)!==0}minPost(){return j.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gs;class xg extends Ho{static get __EMPTY_NODE(){return gs}static set __EMPTY_NODE(e){gs=e}compare(e,n){return Sr(e.name,n.name)}isDefinedOn(e){throw Er("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return j.MIN}maxPost(){return new j(Nn,gs)}makePost(e,n){return S(typeof e=="string","KeyIndex indexValue must always be a string."),new j(e,gs)}toString(){return".key"}}const rr=new xg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class fe{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??fe.RED,this.left=i??Me.EMPTY_NODE,this.right=s??Me.EMPTY_NODE}copy(e,n,r,i,s){return new fe(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Me.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Me.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}fe.RED=!0;fe.BLACK=!1;class fC{copy(e,n,r,i,s){return this}insert(e,n,r){return new fe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Me{constructor(e,n=Me.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Me(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,fe.BLACK,null,null))}remove(e){return new Me(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,fe.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ys(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ys(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ys(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ys(this.root_,null,this.comparator_,!0,e)}}Me.EMPTY_NODE=new fC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e){return Sr(t.name,e.name)}function yc(t,e){return Sr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga;function mC(t){Ga=t}const wg=function(t){return typeof t=="number"?"number:"+Xm(t):"string:"+t},Cg=function(t){if(t.isLeafNode()){const e=t.val();S(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Mt(e,".sv"),"Priority must be a string or number.")}else S(t===Ga||t.isEmpty(),"priority of unexpected type.");S(t===Ga||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph;class de{static set __childrenNodeConstructor(e){Ph=e}static get __childrenNodeConstructor(){return Ph}constructor(e,n=de.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,S(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Cg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new de(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:de.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return O(e)?this:L(e)===".priority"?this.priorityNode_:de.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:de.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=L(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(S(r!==".priority"||en(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,de.__childrenNodeConstructor.EMPTY_NODE.updateChild(G(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Xm(this.value_):e+=this.value_,this.lazyHash_=Km(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===de.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof de.__childrenNodeConstructor?-1:(S(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=de.VALUE_TYPE_ORDER.indexOf(n),s=de.VALUE_TYPE_ORDER.indexOf(r);return S(i>=0,"Unknown leaf type: "+n),S(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}de.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg,Sg;function gC(t){Eg=t}function yC(t){Sg=t}class vC extends Ho{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Sr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return j.MIN}maxPost(){return new j(Nn,new de("[PRIORITY-POST]",Sg))}makePost(e,n){const r=Eg(e);return new j(n,new de("[PRIORITY-POST]",r))}toString(){return".priority"}}const re=new vC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=Math.log(2);class xC{constructor(e){const n=s=>parseInt(Math.log(s)/_C,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ho=function(t,e,n,r){t.sort(e);const i=function(a,u){const d=u-a;let f,h;if(d===0)return null;if(d===1)return f=t[a],h=n?n(f):f,new fe(h,f.node,fe.BLACK,null,null);{const g=parseInt(d/2,10)+a,v=i(a,g),x=i(g+1,u);return f=t[g],h=n?n(f):f,new fe(h,f.node,fe.BLACK,v,x)}},s=function(a){let u=null,d=null,f=t.length;const h=function(v,x){const C=f-v,y=f;f-=v;const p=i(C+1,y),m=t[C],w=n?n(m):m;g(new fe(w,m.node,x,null,p))},g=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<a.count;++v){const x=a.nextBitIsOne(),C=Math.pow(2,a.count-(v+1));x?h(C,fe.BLACK):(h(C,fe.BLACK),h(C,fe.RED))}return d},o=new xC(t.length),l=s(o);return new Me(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol;const An={};class xt{static get Default(){return S(An&&re,"ChildrenNode.ts has not been loaded"),Ol=Ol||new xt({".priority":An},{".priority":re}),Ol}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=fr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Me?n:null}hasIndex(e){return Mt(this.indexSet_,e.toString())}addIndex(e,n){S(e!==rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(j.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=ho(r,e.getCompare()):l=An;const a=e.toString(),u={...this.indexSet_};u[a]=e;const d={...this.indexes_};return d[a]=l,new xt(d,u)}addToIndexes(e,n){const r=so(this.indexes_,(i,s)=>{const o=fr(this.indexSet_,s);if(S(o,"Missing index implementation for "+s),i===An)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(j.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),ho(l,o.getCompare())}else return An;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new j(e.name,l))),a.insert(e,e.node)}});return new xt(r,this.indexSet_)}removeFromIndexes(e,n){const r=so(this.indexes_,i=>{if(i===An)return i;{const s=n.get(e.name);return s?i.remove(new j(e.name,s)):i}});return new xt(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zr;class b{static get EMPTY_NODE(){return zr||(zr=new b(new Me(yc),null,xt.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Cg(this.priorityNode_),this.children_.isEmpty()&&S(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zr}updatePriority(e){return this.children_.isEmpty()?this:new b(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?zr:n}}getChild(e){const n=L(e);return n===null?this:this.getImmediateChild(n).getChild(G(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(S(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new j(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?zr:this.priorityNode_;return new b(i,o,s)}}updateChild(e,n){const r=L(e);if(r===null)return n;{S(L(e)!==".priority"||en(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(G(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(re,(o,l)=>{n[o]=l.val(e),r++,s&&b.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+wg(this.getPriority().val())+":"),this.forEachChild(re,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Km(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new j(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new j(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new j(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,j.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Qi?-1:0}withIndex(e){if(e===rr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new b(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===rr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(re),i=n.getIterator(re);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===rr?null:this.indexMap_.get(e.toString())}}b.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class wC extends b{constructor(){super(new Me(yc),b.EMPTY_NODE,xt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return b.EMPTY_NODE}isEmpty(){return!1}}const Qi=new wC;Object.defineProperties(j,{MIN:{value:new j(pr,b.EMPTY_NODE)},MAX:{value:new j(Nn,Qi)}});xg.__EMPTY_NODE=b.EMPTY_NODE;de.__childrenNodeConstructor=b;mC(Qi);yC(Qi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=!0;function Ee(t,e=null){if(t===null)return b.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),S(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new de(n,Ee(e))}if(!(t instanceof Array)&&CC){const n=[];let r=!1;if(Oe(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Ee(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new j(o,a)))}}),n.length===0)return b.EMPTY_NODE;const s=ho(n,pC,o=>o.name,yc);if(r){const o=ho(n,re.getCompare());return new b(s,Ee(e),new xt({".priority":o},{".priority":re}))}else return new b(s,Ee(e),xt.Default)}else{let n=b.EMPTY_NODE;return Oe(t,(r,i)=>{if(Mt(t,r)&&r.substring(0,1)!=="."){const s=Ee(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ee(e))}}gC(Ee);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC extends Ho{constructor(e){super(),this.indexPath_=e,S(!O(e)&&L(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Sr(e.name,n.name):s}makePost(e,n){const r=Ee(e),i=b.EMPTY_NODE.updateChild(this.indexPath_,r);return new j(n,i)}maxPost(){const e=b.EMPTY_NODE.updateChild(this.indexPath_,Qi);return new j(Nn,e)}toString(){return yg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC extends Ho{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Sr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return j.MIN}maxPost(){return j.MAX}makePost(e,n){const r=Ee(e);return new j(n,r)}toString(){return".value"}}const NC=new SC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t){return{type:"value",snapshotNode:t}}function mr(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ri(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Pi(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function kC(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){S(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Ri(n,l)):S(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(mr(n,r)):o.trackChildChange(Pi(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(re,(i,s)=>{n.hasChild(i)||r.trackChildChange(Ri(i,s))}),n.isLeafNode()||n.forEachChild(re,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Pi(i,s,o))}else r.trackChildChange(mr(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?b.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.indexedFilter_=new vc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=bi.getStartPost_(e),this.endPost_=bi.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new j(n,r))||(r=b.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=b.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(b.EMPTY_NODE);const s=this;return n.forEachChild(re,(o,l)=>{s.matches(new j(o,l))||(i=i.updateImmediateChild(o,b.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new bi(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new j(n,r))||(r=b.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=b.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=b.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(b.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,b.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const f=this.index_.getCompare();o=(h,g)=>f(g,h)}else o=this.index_.getCompare();const l=e;S(l.numChildren()===this.limit_,"");const a=new j(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const f=l.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const g=h==null?1:o(h,a);if(d&&!r.isEmpty()&&g>=0)return s!=null&&s.trackChildChange(Pi(n,r,f)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Ri(n,f));const x=l.updateImmediateChild(n,b.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(mr(h.name,h.node)),x.updateImmediateChild(h.name,h.node)):x}}else return r.isEmpty()?e:d&&o(u,a)>=0?(s!=null&&(s.trackChildChange(Ri(u.name,u.node)),s.trackChildChange(mr(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,b.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=re}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return S(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return S(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pr}hasEnd(){return this.endSet_}getIndexEndValue(){return S(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return S(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Nn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return S(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===re}copy(){const e=new _c;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function TC(t){return t.loadsAllData()?new vc(t.getIndex()):t.hasLimit()?new IC(t):new bi(t)}function bh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===re?n="$priority":t.index_===NC?n="$value":t.index_===rr?n="$key":(S(t.index_ instanceof EC,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=pe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=pe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+pe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=pe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+pe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Dh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==re&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends pg{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(S(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Vi("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=fo.getListenId_(e,r),l={};this.listens_[o]=l;const a=bh(e._queryParams);this.restRequest_(s+".json",a,(u,d)=>{let f=d;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(s,f,!1,r),fr(this.listens_,o)===l){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=fo.getListenId_(e,n);delete this.listens_[r]}get(e){const n=bh(e._queryParams),r=e._path.toString(),i=new ac;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Z1(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Ni(l.responseText)}catch{$e("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&$e("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.rootNode_=b.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(){return{value:null,children:new Map}}function kg(t,e,n){if(O(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=L(e);t.children.has(r)||t.children.set(r,po());const i=t.children.get(r);e=G(e),kg(i,e,n)}}function Qa(t,e,n){t.value!==null?n(e,t.value):PC(t,(r,i)=>{const s=new H(e.toString()+"/"+r);Qa(i,s,n)})}function PC(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&Oe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=10*1e3,DC=30*1e3,MC=5*60*1e3;class AC{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new bC(e);const r=Mh+(DC-Mh)*Math.random();ri(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Oe(e,(i,s)=>{s>0&&Mt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ri(this.reportStats_.bind(this),Math.floor(Math.random()*2*MC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rt||(rt={}));function Ig(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=rt.ACK_USER_WRITE,this.source=Ig()}operationForChild(e){if(O(this.path)){if(this.affectedTree.value!=null)return S(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new H(e));return new mo($(),n,this.revert)}}else return S(L(this.path)===e,"operationForChild called for unrelated child."),new mo(G(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.source=e,this.path=n,this.type=rt.LISTEN_COMPLETE}operationForChild(e){return O(this.path)?new Di(this.source,$()):new Di(this.source,G(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=rt.OVERWRITE}operationForChild(e){return O(this.path)?new kn(this.source,$(),this.snap.getImmediateChild(e)):new kn(this.source,G(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=rt.MERGE}operationForChild(e){if(O(this.path)){const n=this.children.subtree(new H(e));return n.isEmpty()?null:n.value?new kn(this.source,$(),n.value):new Mi(this.source,$(),n)}else return S(L(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Mi(this.source,G(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(O(e))return this.isFullyInitialized()&&!this.filtered_;const n=L(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function LC(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(kC(o.childName,o.snapshotNode))}),Wr(t,i,"child_removed",e,r,n),Wr(t,i,"child_added",e,r,n),Wr(t,i,"child_moved",s,r,n),Wr(t,i,"child_changed",e,r,n),Wr(t,i,"value",e,r,n),i}function Wr(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>FC(t,l,a)),o.forEach(l=>{const a=OC(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function OC(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function FC(t,e,n){if(e.childName==null||n.childName==null)throw Er("Should only compare child_ events.");const r=new j(e.childName,e.snapshotNode),i=new j(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t,e){return{eventCache:t,serverCache:e}}function ii(t,e,n,r){return Vo(new In(e,n,r),t.serverCache)}function Tg(t,e,n,r){return Vo(t.eventCache,new In(e,n,r))}function Ka(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Tn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl;const zC=()=>(Fl||(Fl=new Me(Sw)),Fl);class Y{static fromObject(e){let n=new Y(null);return Oe(e,(r,i)=>{n=n.set(new H(r),i)}),n}constructor(e,n=zC()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$(),value:this.value};if(O(e))return null;{const r=L(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(G(e),n);return s!=null?{path:ae(new H(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(O(e))return this;{const n=L(e),r=this.children.get(n);return r!==null?r.subtree(G(e)):new Y(null)}}set(e,n){if(O(e))return new Y(n,this.children);{const r=L(e),s=(this.children.get(r)||new Y(null)).set(G(e),n),o=this.children.insert(r,s);return new Y(this.value,o)}}remove(e){if(O(e))return this.children.isEmpty()?new Y(null):new Y(null,this.children);{const n=L(e),r=this.children.get(n);if(r){const i=r.remove(G(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Y(null):new Y(this.value,s)}else return this}}get(e){if(O(e))return this.value;{const n=L(e),r=this.children.get(n);return r?r.get(G(e)):null}}setTree(e,n){if(O(e))return n;{const r=L(e),s=(this.children.get(r)||new Y(null)).setTree(G(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Y(this.value,o)}}fold(e){return this.fold_($(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ae(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,$(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(O(e))return null;{const s=L(e),o=this.children.get(s);return o?o.findOnPath_(G(e),ae(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$(),n)}foreachOnPath_(e,n,r){if(O(e))return this;{this.value&&r(n,this.value);const i=L(e),s=this.children.get(i);return s?s.foreachOnPath_(G(e),ae(n,i),r):new Y(null)}}foreach(e){this.foreach_($(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ae(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.writeTree_=e}static empty(){return new ot(new Y(null))}}function si(t,e,n){if(O(e))return new ot(new Y(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=De(i,e);return s=s.updateChild(o,n),new ot(t.writeTree_.set(i,s))}else{const i=new Y(n),s=t.writeTree_.setTree(e,i);return new ot(s)}}}function Ah(t,e,n){let r=t;return Oe(n,(i,s)=>{r=si(r,ae(e,i),s)}),r}function jh(t,e){if(O(e))return ot.empty();{const n=t.writeTree_.setTree(e,new Y(null));return new ot(n)}}function Ya(t,e){return bn(t,e)!=null}function bn(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(De(n.path,e)):null}function Lh(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(re,(r,i)=>{e.push(new j(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new j(r,i.value))}),e}function Xt(t,e){if(O(e))return t;{const n=bn(t,e);return n!=null?new ot(new Y(n)):new ot(t.writeTree_.subtree(e))}}function qa(t){return t.writeTree_.isEmpty()}function gr(t,e){return Rg($(),t.writeTree_,e)}function Rg(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(S(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Rg(ae(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ae(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t,e){return Mg(e,t)}function WC(t,e,n,r,i){S(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=si(t.visibleWrites,e,n)),t.lastWriteId=r}function $C(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function UC(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);S(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&BC(l,r.path)?i=!1:nt(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return HC(t),!0;if(r.snap)t.visibleWrites=jh(t.visibleWrites,r.path);else{const l=r.children;Oe(l,a=>{t.visibleWrites=jh(t.visibleWrites,ae(r.path,a))})}return!0}else return!1}function BC(t,e){if(t.snap)return nt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&nt(ae(t.path,n),e))return!0;return!1}function HC(t){t.visibleWrites=Pg(t.allWrites,VC,$()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function VC(t){return t.visible}function Pg(t,e,n){let r=ot.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)nt(n,o)?(l=De(n,o),r=si(r,l,s.snap)):nt(o,n)&&(l=De(o,n),r=si(r,$(),s.snap.getChild(l)));else if(s.children){if(nt(n,o))l=De(n,o),r=Ah(r,l,s.children);else if(nt(o,n))if(l=De(o,n),O(l))r=Ah(r,$(),s.children);else{const a=fr(s.children,L(l));if(a){const u=a.getChild(G(l));r=si(r,$(),u)}}}else throw Er("WriteRecord should have .snap or .children")}}return r}function bg(t,e,n,r,i){if(!r&&!i){const s=bn(t.visibleWrites,e);if(s!=null)return s;{const o=Xt(t.visibleWrites,e);if(qa(o))return n;if(n==null&&!Ya(o,$()))return null;{const l=n||b.EMPTY_NODE;return gr(o,l)}}}else{const s=Xt(t.visibleWrites,e);if(!i&&qa(s))return n;if(!i&&n==null&&!Ya(s,$()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(nt(u.path,e)||nt(e,u.path))},l=Pg(t.allWrites,o,e),a=n||b.EMPTY_NODE;return gr(l,a)}}}function GC(t,e,n){let r=b.EMPTY_NODE;const i=bn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(re,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Xt(t.visibleWrites,e);return n.forEachChild(re,(o,l)=>{const a=gr(Xt(s,new H(o)),l);r=r.updateImmediateChild(o,a)}),Lh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Xt(t.visibleWrites,e);return Lh(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function QC(t,e,n,r,i){S(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ae(e,n);if(Ya(t.visibleWrites,s))return null;{const o=Xt(t.visibleWrites,s);return qa(o)?i.getChild(n):gr(o,i.getChild(n))}}function KC(t,e,n,r){const i=ae(e,n),s=bn(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Xt(t.visibleWrites,i);return gr(o,r.getNode().getImmediateChild(n))}else return null}function YC(t,e){return bn(t.visibleWrites,e)}function qC(t,e,n,r,i,s,o){let l;const a=Xt(t.visibleWrites,e),u=bn(a,$());if(u!=null)l=u;else if(n!=null)l=gr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],f=o.getCompare(),h=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let g=h.getNext();for(;g&&d.length<i;)f(g,r)!==0&&d.push(g),g=h.getNext();return d}else return[]}function XC(){return{visibleWrites:ot.empty(),allWrites:[],lastWriteId:-1}}function go(t,e,n,r){return bg(t.writeTree,t.treePath,e,n,r)}function Ec(t,e){return GC(t.writeTree,t.treePath,e)}function Oh(t,e,n,r){return QC(t.writeTree,t.treePath,e,n,r)}function yo(t,e){return YC(t.writeTree,ae(t.treePath,e))}function JC(t,e,n,r,i,s){return qC(t.writeTree,t.treePath,e,n,r,i,s)}function Sc(t,e,n){return KC(t.writeTree,t.treePath,e,n)}function Dg(t,e){return Mg(ae(t.treePath,e),t.writeTree)}function Mg(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;S(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),S(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Pi(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ri(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,mr(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Pi(r,e.snapshotNode,i.oldSnap));else throw Er("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Ag=new eE;class Nc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new In(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sc(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Tn(this.viewCache_),s=JC(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){return{filter:t}}function nE(t,e){S(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),S(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function rE(t,e,n,r,i){const s=new ZC;let o,l;if(n.type===rt.OVERWRITE){const u=n;u.source.fromUser?o=Xa(t,e,u.path,u.snap,r,i,s):(S(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!O(u.path),o=vo(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===rt.MERGE){const u=n;u.source.fromUser?o=sE(t,e,u.path,u.children,r,i,s):(S(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=Ja(t,e,u.path,u.children,r,i,l,s))}else if(n.type===rt.ACK_USER_WRITE){const u=n;u.revert?o=aE(t,e,u.path,r,i,s):o=oE(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===rt.LISTEN_COMPLETE)o=lE(t,e,n.path,r,s);else throw Er("Unknown operation type: "+n.type);const a=s.getChanges();return iE(e,o,a),{viewCache:o,changes:a}}function iE(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ka(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Ng(Ka(e)))}}function jg(t,e,n,r,i,s){const o=e.eventCache;if(yo(r,n)!=null)return e;{let l,a;if(O(n))if(S(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Tn(e),d=u instanceof b?u:b.EMPTY_NODE,f=Ec(r,d);l=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const u=go(r,Tn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=L(n);if(u===".priority"){S(en(n)===1,"Can't have a priority with additional path components");const d=o.getNode();a=e.serverCache.getNode();const f=Oh(r,n,d,a);f!=null?l=t.filter.updatePriority(d,f):l=o.getNode()}else{const d=G(n);let f;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const h=Oh(r,n,o.getNode(),a);h!=null?f=o.getNode().getImmediateChild(u).updateChild(d,h):f=o.getNode().getImmediateChild(u)}else f=Sc(r,u,e.serverCache);f!=null?l=t.filter.updateChild(o.getNode(),u,f,d,i,s):l=o.getNode()}}return ii(e,l,o.isFullyInitialized()||O(n),t.filter.filtersNodes())}}function vo(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const d=o?t.filter:t.filter.getIndexedFilter();if(O(n))u=d.updateFullNode(a.getNode(),r,null);else if(d.filtersNodes()&&!a.isFiltered()){const g=a.getNode().updateChild(n,r);u=d.updateFullNode(a.getNode(),g,null)}else{const g=L(n);if(!a.isCompleteForPath(n)&&en(n)>1)return e;const v=G(n),C=a.getNode().getImmediateChild(g).updateChild(v,r);g===".priority"?u=d.updatePriority(a.getNode(),C):u=d.updateChild(a.getNode(),g,C,v,Ag,null)}const f=Tg(e,u,a.isFullyInitialized()||O(n),d.filtersNodes()),h=new Nc(i,f,s);return jg(t,f,n,i,h,l)}function Xa(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const d=new Nc(i,e,s);if(O(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=ii(e,u,!0,t.filter.filtersNodes());else{const f=L(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=ii(e,u,l.isFullyInitialized(),l.isFiltered());else{const h=G(n),g=l.getNode().getImmediateChild(f);let v;if(O(h))v=r;else{const x=d.getCompleteChild(f);x!=null?gg(h)===".priority"&&x.getChild(vg(h)).isEmpty()?v=x:v=x.updateChild(h,r):v=b.EMPTY_NODE}if(g.equals(v))a=e;else{const x=t.filter.updateChild(l.getNode(),f,v,h,d,o);a=ii(e,x,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Fh(t,e){return t.eventCache.isCompleteForChild(e)}function sE(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const d=ae(n,a);Fh(e,L(d))&&(l=Xa(t,l,d,u,i,s,o))}),r.foreach((a,u)=>{const d=ae(n,a);Fh(e,L(d))||(l=Xa(t,l,d,u,i,s,o))}),l}function zh(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ja(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;O(n)?u=r:u=new Y(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((f,h)=>{if(d.hasChild(f)){const g=e.serverCache.getNode().getImmediateChild(f),v=zh(t,g,h);a=vo(t,a,new H(f),v,i,s,o,l)}}),u.children.inorderTraversal((f,h)=>{const g=!e.serverCache.isCompleteForChild(f)&&h.value===null;if(!d.hasChild(f)&&!g){const v=e.serverCache.getNode().getImmediateChild(f),x=zh(t,v,h);a=vo(t,a,new H(f),x,i,s,o,l)}}),a}function oE(t,e,n,r,i,s,o){if(yo(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(O(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return vo(t,e,n,a.getNode().getChild(n),i,s,l,o);if(O(n)){let u=new Y(null);return a.getNode().forEachChild(rr,(d,f)=>{u=u.set(new H(d),f)}),Ja(t,e,n,u,i,s,l,o)}else return e}else{let u=new Y(null);return r.foreach((d,f)=>{const h=ae(n,d);a.isCompleteForPath(h)&&(u=u.set(d,a.getNode().getChild(h)))}),Ja(t,e,n,u,i,s,l,o)}}function lE(t,e,n,r,i){const s=e.serverCache,o=Tg(e,s.getNode(),s.isFullyInitialized()||O(n),s.isFiltered());return jg(t,o,n,r,Ag,i)}function aE(t,e,n,r,i,s){let o;if(yo(r,n)!=null)return e;{const l=new Nc(r,e,i),a=e.eventCache.getNode();let u;if(O(n)||L(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=go(r,Tn(e));else{const f=e.serverCache.getNode();S(f instanceof b,"serverChildren would be complete if leaf node"),d=Ec(r,f)}d=d,u=t.filter.updateFullNode(a,d,s)}else{const d=L(n);let f=Sc(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=a.getImmediateChild(d)),f!=null?u=t.filter.updateChild(a,d,f,G(n),l,s):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(a,d,b.EMPTY_NODE,G(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=go(r,Tn(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||yo(r,$())!=null,ii(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new vc(r.getIndex()),s=TC(r);this.processor_=tE(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(b.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(b.EMPTY_NODE,l.getNode(),null),d=new In(a,o.isFullyInitialized(),i.filtersNodes()),f=new In(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Vo(f,d),this.eventGenerator_=new jC(this.query_)}get query(){return this.query_}}function cE(t){return t.viewCache_.serverCache.getNode()}function dE(t,e){const n=Tn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!O(e)&&!n.getImmediateChild(L(e)).isEmpty())?n.getChild(e):null}function Wh(t){return t.eventRegistrations_.length===0}function hE(t,e){t.eventRegistrations_.push(e)}function $h(t,e,n){const r=[];if(n){S(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function Uh(t,e,n,r){e.type===rt.MERGE&&e.source.queryId!==null&&(S(Tn(t.viewCache_),"We should always have a full cache before handling merges"),S(Ka(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=rE(t.processor_,i,e,n,r);return nE(t.processor_,s.viewCache),S(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Lg(t,s.changes,s.viewCache.eventCache.getNode(),null)}function fE(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(re,(s,o)=>{r.push(mr(s,o))}),n.isFullyInitialized()&&r.push(Ng(n.getNode())),Lg(t,r,n.getNode(),e)}function Lg(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return LC(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o;class pE{constructor(){this.views=new Map}}function mE(t){S(!_o,"__referenceConstructor has already been defined"),_o=t}function gE(){return S(_o,"Reference.ts has not been loaded"),_o}function yE(t){return t.views.size===0}function kc(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return S(s!=null,"SyncTree gave us an op for an invalid query."),Uh(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(Uh(o,e,n,r));return s}}function vE(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=go(n,i?r:null),a=!1;l?a=!0:r instanceof b?(l=Ec(n,r),a=!1):(l=b.EMPTY_NODE,a=!1);const u=Vo(new In(l,a,!1),new In(r,i,!1));return new uE(e,u)}return o}function _E(t,e,n,r,i,s){const o=vE(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),hE(o,n),fE(o,n)}function xE(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=tn(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat($h(u,n,r)),Wh(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat($h(a,n,r)),Wh(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!tn(t)&&s.push(new(gE())(e._repo,e._path)),{removed:s,events:o}}function Og(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ir(t,e){let n=null;for(const r of t.views.values())n=n||dE(r,e);return n}function Fg(t,e){if(e._queryParams.loadsAllData())return Go(t);{const r=e._queryIdentifier;return t.views.get(r)}}function zg(t,e){return Fg(t,e)!=null}function tn(t){return Go(t)!=null}function Go(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo;function wE(t){S(!xo,"__referenceConstructor has already been defined"),xo=t}function CE(){return S(xo,"Reference.ts has not been loaded"),xo}let EE=1;class Bh{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Y(null),this.pendingWriteTree_=XC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function SE(t,e,n,r,i){return WC(t.pendingWriteTree_,e,n,r,i),i?Ki(t,new kn(Ig(),e,n)):[]}function Kn(t,e,n=!1){const r=$C(t.pendingWriteTree_,e);if(UC(t.pendingWriteTree_,e)){let s=new Y(null);return r.snap!=null?s=s.set($(),!0):Oe(r.children,o=>{s=s.set(new H(o),!0)}),Ki(t,new mo(r.path,s,n))}else return[]}function Qo(t,e,n){return Ki(t,new kn(xc(),e,n))}function NE(t,e,n){const r=Y.fromObject(n);return Ki(t,new Mi(xc(),e,r))}function kE(t,e){return Ki(t,new Di(xc(),e))}function IE(t,e,n){const r=Ic(t,n);if(r){const i=Tc(r),s=i.path,o=i.queryId,l=De(s,e),a=new Di(wc(o),l);return Rc(t,s,a)}else return[]}function Za(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||zg(o,e))){const a=xE(o,e,n,r);yE(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const d=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(h,g)=>tn(g));if(d&&!f){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const g=PE(h);for(let v=0;v<g.length;++v){const x=g[v],C=x.query,y=Bg(t,x);t.listenProvider_.startListening(oi(C),wo(t,C),y.hashFn,y.onComplete)}}}!f&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(oi(e),null):u.forEach(h=>{const g=t.queryToTagMap.get(Ko(h));t.listenProvider_.stopListening(oi(h),g)}))}bE(t,u)}return l}function TE(t,e,n,r){const i=Ic(t,r);if(i!=null){const s=Tc(i),o=s.path,l=s.queryId,a=De(o,e),u=new kn(wc(l),a,n);return Rc(t,o,u)}else return[]}function RE(t,e,n,r){const i=Ic(t,r);if(i){const s=Tc(i),o=s.path,l=s.queryId,a=De(o,e),u=Y.fromObject(n),d=new Mi(wc(l),a,u);return Rc(t,o,d)}else return[]}function Hh(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,g)=>{const v=De(h,i);s=s||ir(g,v),o=o||tn(g)});let l=t.syncPointTree_.get(i);l?(o=o||tn(l),s=s||ir(l,$())):(l=new pE,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=b.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((g,v)=>{const x=ir(v,$());x&&(s=s.updateImmediateChild(g,x))}));const u=zg(l,e);if(!u&&!e._queryParams.loadsAllData()){const h=Ko(e);S(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const g=DE();t.queryToTagMap.set(h,g),t.tagToQueryMap.set(g,h)}const d=Cc(t.pendingWriteTree_,i);let f=_E(l,e,n,d,s,a);if(!u&&!o&&!r){const h=Fg(l,e);f=f.concat(ME(t,e,h))}return f}function Wg(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=De(o,e),u=ir(l,a);if(u)return u});return bg(i,e,s,n,!0)}function Ki(t,e){return $g(e,t.syncPointTree_,null,Cc(t.pendingWriteTree_,$()))}function $g(t,e,n,r){if(O(t.path))return Ug(t,e,n,r);{const i=e.get($());n==null&&i!=null&&(n=ir(i,$()));let s=[];const o=L(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,d=Dg(r,o);s=s.concat($g(l,a,u,d))}return i&&(s=s.concat(kc(i,t,r,n))),s}}function Ug(t,e,n,r){const i=e.get($());n==null&&i!=null&&(n=ir(i,$()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Dg(r,o),d=t.operationForChild(o);d&&(s=s.concat(Ug(d,l,a,u)))}),i&&(s=s.concat(kc(i,t,r,n))),s}function Bg(t,e){const n=e.query,r=wo(t,n);return{hashFn:()=>(cE(e)||b.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?IE(t,n._path,r):kE(t,n._path);{const s=Iw(i,n);return Za(t,n,null,s)}}}}function wo(t,e){const n=Ko(e);return t.queryToTagMap.get(n)}function Ko(t){return t._path.toString()+"$"+t._queryIdentifier}function Ic(t,e){return t.tagToQueryMap.get(e)}function Tc(t){const e=t.indexOf("$");return S(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new H(t.substr(0,e))}}function Rc(t,e,n){const r=t.syncPointTree_.get(e);S(r,"Missing sync point for query tag that we're tracking");const i=Cc(t.pendingWriteTree_,e);return kc(r,n,i,null)}function PE(t){return t.fold((e,n,r)=>{if(n&&tn(n))return[Go(n)];{let i=[];return n&&(i=Og(n)),Oe(r,(s,o)=>{i=i.concat(o)}),i}})}function oi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(CE())(t._repo,t._path):t}function bE(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Ko(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function DE(){return EE++}function ME(t,e,n){const r=e._path,i=wo(t,e),s=Bg(t,n),o=t.listenProvider_.startListening(oi(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)S(!tn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,d,f)=>{if(!O(u)&&d&&tn(d))return[Go(d).query];{let h=[];return d&&(h=h.concat(Og(d).map(g=>g.query))),Oe(f,(g,v)=>{h=h.concat(v)}),h}});for(let u=0;u<a.length;++u){const d=a[u];t.listenProvider_.stopListening(oi(d),wo(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Pc(n)}node(){return this.node_}}class bc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ae(this.path_,e);return new bc(this.syncTree_,n)}node(){return Wg(this.syncTree_,this.path_)}}const AE=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Vh=function(t,e,n){if(!t||typeof t!="object")return t;if(S(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return jE(t[".sv"],e,n);if(typeof t[".sv"]=="object")return LE(t[".sv"],e);S(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},jE=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:S(!1,"Unexpected server value: "+t)}},LE=function(t,e,n){t.hasOwnProperty("increment")||S(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&S(!1,"Unexpected increment value: "+r);const i=e.node();if(S(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},OE=function(t,e,n,r){return Dc(e,new bc(n,t),r)},FE=function(t,e,n){return Dc(t,new Pc(e),n)};function Dc(t,e,n){const r=t.getPriority().val(),i=Vh(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Vh(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new de(l,Ee(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new de(i))),o.forEachChild(re,(l,a)=>{const u=Dc(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Ac(t,e){let n=e instanceof H?e:new H(e),r=t,i=L(n);for(;i!==null;){const s=fr(r.node.children,i)||{children:{},childCount:0};r=new Mc(i,r,s),n=G(n),i=L(n)}return r}function Nr(t){return t.node.value}function Hg(t,e){t.node.value=e,eu(t)}function Vg(t){return t.node.childCount>0}function zE(t){return Nr(t)===void 0&&!Vg(t)}function Yo(t,e){Oe(t.node.children,(n,r)=>{e(new Mc(n,t,r))})}function Gg(t,e,n,r){n&&!r&&e(t),Yo(t,i=>{Gg(i,e,!0,r)}),n&&r&&e(t)}function WE(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Yi(t){return new H(t.parent===null?t.name:Yi(t.parent)+"/"+t.name)}function eu(t){t.parent!==null&&$E(t.parent,t.name,t)}function $E(t,e,n){const r=zE(n),i=Mt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,eu(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,eu(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=/[\[\].#$\/\u0000-\u001F\u007F]/,BE=/[\[\].#$\u0000-\u001F\u007F]/,zl=10*1024*1024,Qg=function(t){return typeof t=="string"&&t.length!==0&&!UE.test(t)},Kg=function(t){return typeof t=="string"&&t.length!==0&&!BE.test(t)},HE=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Kg(t)},Yg=function(t,e,n){const r=n instanceof H?new oC(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+fn(r));if(typeof e=="function")throw new Error(t+"contains a function "+fn(r)+" with contents = "+e.toString());if(Ym(e))throw new Error(t+"contains "+e.toString()+" "+fn(r));if(typeof e=="string"&&e.length>zl/3&&Uo(e)>zl)throw new Error(t+"contains a string greater than "+zl+" utf8 bytes "+fn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Oe(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Qg(o)))throw new Error(t+" contains an invalid key ("+o+") "+fn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);lC(r,o),Yg(t,l,r),aC(r)}),i&&s)throw new Error(t+' contains ".value" child '+fn(r)+" in addition to actual children.")}},qg=function(t,e,n,r){if(!Kg(n))throw new Error(zm(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},VE=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qg(t,e,n)},GE=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Qg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!HE(n))throw new Error(zm(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Xg(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!mc(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Jg(t,e,n){Xg(t,n),Zg(t,r=>mc(r,e))}function Dn(t,e,n){Xg(t,n),Zg(t,r=>nt(r,e)||nt(e,r))}function Zg(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(KE(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function KE(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();ni&&Ce("event: "+n.toString()),Gi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="repo_interrupt",qE=25;class XE{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=po(),this.transactionQueueTree_=new Mc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JE(t,e,n){if(t.stats_=fc(t.repoInfo_),t.forceRestClient_||bw())t.server_=new fo(t.repoInfo_,(r,i,s,o)=>{Gh(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Qh(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Et(t.repoInfo_,e,(r,i,s,o)=>{Gh(t,r,i,s,o)},r=>{Qh(t,r)},r=>{eS(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Lw(t.repoInfo_,()=>new AC(t.stats_,t.server_)),t.infoData_=new RC,t.infoSyncTree_=new Bh({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=Qo(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),jc(t,"connected",!1),t.serverSyncTree_=new Bh({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);Dn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function ZE(t){const n=t.infoData_.getNode(new H(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ey(t){return AE({timestamp:ZE(t)})}function Gh(t,e,n,r,i){t.dataUpdateCount++;const s=new H(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=so(n,u=>Ee(u));o=RE(t.serverSyncTree_,s,a,i)}else{const a=Ee(n);o=TE(t.serverSyncTree_,s,a,i)}else if(r){const a=so(n,u=>Ee(u));o=NE(t.serverSyncTree_,s,a)}else{const a=Ee(n);o=Qo(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Oc(t,s)),Dn(t.eventQueue_,l,o)}function Qh(t,e){jc(t,"connected",e),e===!1&&nS(t)}function eS(t,e){Oe(e,(n,r)=>{jc(t,n,r)})}function jc(t,e,n){const r=new H("/.info/"+e),i=Ee(n);t.infoData_.updateSnapshot(r,i);const s=Qo(t.infoSyncTree_,r,i);Dn(t.eventQueue_,r,s)}function tS(t){return t.nextWriteId_++}function nS(t){ty(t,"onDisconnectEvents");const e=ey(t),n=po();Qa(t.onDisconnect_,$(),(i,s)=>{const o=OE(i,s,t.serverSyncTree_,e);kg(n,i,o)});let r=[];Qa(n,$(),(i,s)=>{r=r.concat(Qo(t.serverSyncTree_,i,s));const o=lS(t,i);Oc(t,o)}),t.onDisconnect_=po(),Dn(t.eventQueue_,$(),r)}function rS(t,e,n){let r;L(e._path)===".info"?r=Hh(t.infoSyncTree_,e,n):r=Hh(t.serverSyncTree_,e,n),Jg(t.eventQueue_,e._path,r)}function tu(t,e,n){let r;L(e._path)===".info"?r=Za(t.infoSyncTree_,e,n):r=Za(t.serverSyncTree_,e,n),Jg(t.eventQueue_,e._path,r)}function iS(t){t.persistentConnection_&&t.persistentConnection_.interrupt(YE)}function ty(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ce(n,...e)}function ny(t,e,n){return Wg(t.serverSyncTree_,e,n)||b.EMPTY_NODE}function Lc(t,e=t.transactionQueueTree_){if(e||qo(t,e),Nr(e)){const n=iy(t,e);S(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&sS(t,Yi(e),n)}else Vg(e)&&Yo(e,n=>{Lc(t,n)})}function sS(t,e,n){const r=n.map(u=>u.currentWriteId),i=ny(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const d=n[u];S(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=De(e,d.path);s=s.updateChild(f,d.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{ty(t,"transaction put response",{path:a.toString(),status:u});let d=[];if(u==="ok"){const f=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat(Kn(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&f.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();qo(t,Ac(t.transactionQueueTree_,e)),Lc(t,t.transactionQueueTree_),Dn(t.eventQueue_,e,d);for(let h=0;h<f.length;h++)Gi(f[h])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{$e("transaction at "+a.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}Oc(t,e)}},o)}function Oc(t,e){const n=ry(t,e),r=Yi(n),i=iy(t,n);return oS(t,i,r),r}function oS(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=De(n,a.path);let d=!1,f;if(S(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,f=a.abortReason,i=i.concat(Kn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=qE)d=!0,f="maxretry",i=i.concat(Kn(t.serverSyncTree_,a.currentWriteId,!0));else{const h=ny(t,a.path,o);a.currentInputSnapshot=h;const g=e[l].update(h.val());if(g!==void 0){Yg("transaction failed: Data returned ",g,a.path);let v=Ee(g);typeof g=="object"&&g!=null&&Mt(g,".priority")||(v=v.updatePriority(h.getPriority()));const C=a.currentWriteId,y=ey(t),p=FE(v,h,y);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=tS(t),o.splice(o.indexOf(C),1),i=i.concat(SE(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),i=i.concat(Kn(t.serverSyncTree_,C,!0))}else d=!0,f="nodata",i=i.concat(Kn(t.serverSyncTree_,a.currentWriteId,!0))}Dn(t.eventQueue_,n,i),i=[],d&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(f==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(f),!1,null))))}qo(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Gi(r[l]);Lc(t,t.transactionQueueTree_)}function ry(t,e){let n,r=t.transactionQueueTree_;for(n=L(e);n!==null&&Nr(r)===void 0;)r=Ac(r,n),e=G(e),n=L(e);return r}function iy(t,e){const n=[];return sy(t,e,n),n.sort((r,i)=>r.order-i.order),n}function sy(t,e,n){const r=Nr(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Yo(e,i=>{sy(t,i,n)})}function qo(t,e){const n=Nr(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Hg(e,n.length>0?n:void 0)}Yo(e,r=>{qo(t,r)})}function lS(t,e){const n=Yi(ry(t,e)),r=Ac(t.transactionQueueTree_,e);return WE(r,i=>{Wl(t,i)}),Wl(t,r),Gg(r,i=>{Wl(t,i)}),n}function Wl(t,e){const n=Nr(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(S(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(S(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Kn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Hg(e,void 0):n.length=s+1,Dn(t.eventQueue_,Yi(e),i);for(let o=0;o<r.length;o++)Gi(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function uS(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$e(`Invalid query segment '${n}' in query '${t}'`)}return e}const Kh=function(t,e){const n=cS(t),r=n.namespace;n.domain==="firebase.com"&&Pt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Pt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Cw();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lg(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new H(n.pathString)}},cS=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(i=aS(t.substring(d,f)));const h=uS(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const g=e.slice(0,u);if(g.toLowerCase()==="localhost")n="localhost";else if(g.split(".").length<=2)n=g;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+pe(this.snapshot.exportVal())}}class hS{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return S(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return O(this._path)?null:gg(this._path)}get ref(){return new on(this._repo,this._path)}get _queryIdentifier(){const e=Dh(this._queryParams),n=dc(e);return n==="{}"?"default":n}get _queryObject(){return Dh(this._queryParams)}isEqual(e){if(e=Bo(e),!(e instanceof Fc))return!1;const n=this._repo===e._repo,r=mc(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+sC(this._path)}}class on extends Fc{constructor(e,n){super(e,n,new _c,!1)}get parent(){const e=vg(this._path);return e===null?null:new on(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Co{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new H(e),r=nu(this.ref,e);return new Co(this._node.getChild(n),r,re)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Co(i,nu(this.ref,r),re)))}hasChild(e){const n=new H(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function fS(t,e){return t=Bo(t),t._checkNotDeleted("ref"),nu(t._root,e)}function nu(t,e){return t=Bo(t),L(t._path)===null?VE("child","path",e):qg("child","path",e),new on(t._repo,ae(t._path,e))}class Xo{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new dS("value",this,new Co(e.snapshotNode,new on(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hS(this,e,n):null}matches(e){return e instanceof Xo?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function pS(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const a=n,u=(d,f)=>{tu(t._repo,t,l),a(d,f)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new oy(n,s||void 0),l=new Xo(o);return rS(t._repo,t,l),()=>tu(t._repo,t,l)}function mS(t,e,n,r){return pS(t,"value",e,n,r)}function gS(t,e,n){let r=null;const i=n?new oy(n):null;r=new Xo(i),tu(t._repo,t,r)}mE(on);wE(on);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="FIREBASE_DATABASE_EMULATOR_HOST",ru={};let vS=!1;function _S(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=uc(s);t.repoInfo_=new lg(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function xS(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Pt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ce("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Kh(s,i),l=o.repoInfo,a;typeof process<"u"&&ph&&(a=ph[yS]),a?(s=`http://${a}?ns=${l.namespace}`,o=Kh(s,i),l=o.repoInfo):o.repoInfo.secure;const u=new Mw(t.name,t.options,e);GE("Invalid Firebase Database URL",o),O(o.path)||Pt("Database URL must point to the root of a Firebase Database (not including a child path).");const d=CS(l,t,u,new Dw(t,n));return new ES(d,t)}function wS(t,e){const n=ru[e];(!n||n[t.key]!==t)&&Pt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),iS(t),delete n[t.key]}function CS(t,e,n,r){let i=ru[e.name];i||(i={},ru[e.name]=i);let s=i[t.toURLString()];return s&&Pt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new XE(t,vS,n,r),i[t.toURLString()]=s,s}class ES{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(JE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new on(this._repo,$())),this._rootInternal}_delete(){return this._rootInternal!==null&&(wS(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pt("Cannot call "+e+" on a deleted database.")}}function SS(t=rw(),e){const n=Jx(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=F1("database");r&&NS(n,...r)}return n}function NS(t,e,n,r={}){t=Bo(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&oo(r,s.repoInfo_.emulatorOptions))return;Pt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Pt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ds(Ds.OWNER);else if(r.mockUserToken){const l=typeof r.mockUserToken=="string"?r.mockUserToken:W1(r.mockUserToken,t.app.options.projectId);o=new Ds(l)}uc(e)&&(z1(e),B1("Database",!0)),_S(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){gw(nw),ao(new ki("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return xS(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),tr(mh,gh,t),tr(mh,gh,"esm2020")}Et.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Et.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};kS();const IS={apiKey:"your-api-key-here",authDomain:"your-project.firebaseapp.com",databaseURL:"https://your-project-default-rtdb.firebaseio.com/",projectId:"your-project-id",storageBucket:"your-project.appspot.com",messagingSenderId:"123456789",appId:"your-app-id"},TS=Bm(IS),RS=SS(TS),PS=t=>{if(t.length===0)return{pollution:0,globalWarmingImpact:0,suggestions:["No data available for analysis"]};const e=t.reduce((f,h)=>f+h.organicWeight,0)/t.length,n=t.reduce((f,h)=>f+h.inorganicWeight,0)/t.length,r=t.reduce((f,h)=>f+h.mq9,0)/t.length,i=t.reduce((f,h)=>f+h.mq7,0)/t.length,s=t.reduce((f,h)=>f+h.mq135,0)/t.length,o=t.reduce((f,h)=>f+h.temperature,0)/t.length,l=t.reduce((f,h)=>f+h.humidity,0)/t.length,a=(n*.4+r*.3+i*.2+s*.1+o*.05-l*.02)*1.2,u=(e*.3+n*.5+r*.15+s*.05+o*.1)*.8,d=[];return a>60?(d.push("High pollution detected! Consider immediate waste reduction measures."),d.push("Implement better waste segregation practices."),d.push("Increase frequency of waste collection in high-pollution areas.")):a>40?(d.push("Moderate pollution levels. Monitor waste disposal patterns."),d.push("Consider implementing recycling programs.")):(d.push("Pollution levels are within acceptable range."),d.push("Continue current waste management practices.")),u>50?(d.push("High global warming impact! Focus on organic waste composting."),d.push("Reduce inorganic waste generation through reuse initiatives.")):u>30?d.push("Moderate environmental impact. Consider green waste management."):d.push("Environmental impact is minimal. Good waste management practices."),r>50&&d.push("High CO levels detected. Improve ventilation in waste storage areas."),i>45&&d.push("Elevated CO levels. Check for combustion sources near waste containers."),s>40&&d.push("Air quality concerns detected. Consider air purification systems."),{pollution:Math.max(0,Math.min(100,Math.round(a*100)/100)),globalWarmingImpact:Math.max(0,Math.min(100,Math.round(u*100)/100)),suggestions:d.slice(0,5)}},$l=()=>{const t=[],e=new Date,n=["A001","A002","A003","A004","A005"];for(let r=0;r<30;r++){const i=new Date(e.getTime()-r*24*60*60*1e3),s=Math.random()*50+10,o=Math.random()*40+5;t.push({id:`waste-${r}`,timestamp:i,organicWeight:Math.round(s*100)/100,inorganicWeight:Math.round(o*100)/100,totalWeight:Math.round((s+o)*100)/100,humidity:Math.round((Math.random()*40+30)*100)/100,temperature:Math.round((Math.random()*20+15)*100)/100,mq9:Math.round((Math.random()*60+10)*100)/100,mq7:Math.round((Math.random()*50+5)*100)/100,mq135:Math.round((Math.random()*45+15)*100)/100,areaCode:n[r%n.length]})}return t.reverse()};let $r=[];const ly={subscribeToRealtimeData(t){try{const e=fS(RS,"wasteData"),n=mS(e,r=>{if(r.exists()){const i=r.val(),s=Object.keys(i).map(o=>({...i[o],id:o,timestamp:new Date(i[o].timestamp)}));$r=s,t(s)}else{console.warn("Firebase not configured properly, using mock data");const i=$l();$r=i,t(i)}},r=>{console.error("Firebase error, using mock data:",r);const i=$l();$r=i,t(i)});return()=>gS(e,"value",n)}catch(e){console.error("Firebase connection error, using mock data:",e);const n=$l();return $r=n,t(n),()=>{}}},async getAnalyticsData(t,e){await new Promise(l=>setTimeout(l,800));const n=new Date(t),r=new Date(e),i=$r.filter(l=>{const a=new Date(l.timestamp);return a>=n&&a<=r}),s=PS(i),o=i.map(l=>({date:l.timestamp.toISOString().split("T")[0],organicWeight:l.organicWeight,inorganicWeight:l.inorganicWeight,totalWeight:l.totalWeight,pollution:0,globalWarmingImpact:0}));return o.forEach(l=>{l.pollution=s.pollution+(Math.random()-.5)*10,l.globalWarmingImpact=s.globalWarmingImpact+(Math.random()-.5)*8,l.pollution=Math.max(0,Math.min(100,Math.round(l.pollution*100)/100)),l.globalWarmingImpact=Math.max(0,Math.min(100,Math.round(l.globalWarmingImpact*100)/100))}),{data:o,analysis:s}}},bS=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),[i,s]=_.useState(new Date),[o,l]=_.useState("connecting");_.useEffect(()=>{l("connecting");const g=ly.subscribeToRealtimeData(v=>{e(v),s(new Date),r(!1),l("connected")});return()=>{g(),l("disconnected")}},[]);const a=t.reduce((g,v)=>g+v.organicWeight,0),u=t.reduce((g,v)=>g+v.inorganicWeight,0),d=t.length>0?t.reduce((g,v)=>g+v.temperature,0)/t.length:0,f=t.length>0?t.reduce((g,v)=>g+v.humidity,0)/t.length:0,h=[{title:"Total Organic Waste",value:`${a.toFixed(1)} kg`,icon:C1,color:"bg-green-500",bgColor:"bg-green-50"},{title:"Total Inorganic Waste",value:`${u.toFixed(1)} kg`,icon:u1,color:"bg-blue-500",bgColor:"bg-blue-50"},{title:"Avg. Temperature",value:`${d.toFixed(1)}°C`,icon:x1,color:"bg-red-500",bgColor:"bg-red-50"},{title:"Avg. Humidity",value:`${f.toFixed(1)}%`,icon:a1,color:"bg-cyan-500",bgColor:"bg-cyan-50"}];return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Waste Management Dashboard"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time monitoring of waste containers"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${o==="connected"?"bg-green-500":o==="connecting"?"bg-yellow-500":"bg-red-500"}`}),c.jsx("span",{className:"text-sm text-gray-600 capitalize",children:o})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[c.jsx(S1,{className:"h-4 w-4"}),c.jsx("span",{className:"text-sm",children:"Firebase Realtime"})]})]})]}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Last updated: ",i.toLocaleString()]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map(g=>{const v=g.icon;return c.jsx("div",{className:`${g.bgColor} rounded-xl p-6 border border-gray-100`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:g.title}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.value})]}),c.jsx("div",{className:`${g.color} p-3 rounded-lg`,children:c.jsx(v,{className:"h-6 w-6 text-white"})})]})},g.title)})}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(w1,{className:"h-5 w-5 text-gray-600"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Real-time Sensor Data"})]}),c.jsxs("div",{className:"text-sm text-gray-500",children:[t.length," records"]})]})}),c.jsx("div",{className:"overflow-x-auto",children:n?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx(y1,{className:"h-8 w-8 text-gray-400 animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Connecting to Firebase..."})]}):c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Area Code"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organic Weight (kg)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inorganic Weight (kg)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Weight (kg)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Humidity (%)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Temperature (°C)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MQ9 (ppm)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MQ7 (ppm)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MQ135 (ppm)"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((g,v)=>c.jsxs("tr",{className:v%2===0?"bg-white":"bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.timestamp.toLocaleString()}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:g.areaCode}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium",children:g.organicWeight}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-medium",children:g.inorganicWeight}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium",children:g.totalWeight}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-cyan-600 font-medium",children:[g.humidity,"%"]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-medium",children:[g.temperature,"°C"]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g.mq9>50?"bg-red-100 text-red-800":g.mq9>30?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:g.mq9})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g.mq7>45?"bg-red-100 text-red-800":g.mq7>25?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:g.mq7})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${g.mq135>40?"bg-red-100 text-red-800":g.mq135>25?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:g.mq135})})]},g.id))})]})})]})]})},DS=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(null),[i,s]=_.useState(!1),[o,l]=_.useState(!1),[a,u]=_.useState({startDate:new Date(Date.now()-7*24*60*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),d=(p,m)=>{u(w=>({...w,[p]:m}))},f=async()=>{s(!0),l(!1);try{const p=await ly.getAnalyticsData(a.startDate,a.endDate);e(p.data),r(p.analysis),l(!0)}catch(p){console.error("Error loading analytics data:",p)}finally{s(!1)}},h=t.reduce((p,m)=>p+m.organicWeight,0),g=t.reduce((p,m)=>p+m.inorganicWeight,0),v=t.reduce((p,m)=>p+m.totalWeight,0),x=t.length>0?t.reduce((p,m)=>p+m.pollution,0)/t.length:0,C=t.length>0?t.reduce((p,m)=>p+m.globalWarmingImpact,0)/t.length:0,y=()=>{const p=["Date,Organic Weight,Inorganic Weight,Total Weight,Pollution,Global Warming Impact",...t.map(k=>`${k.date},${k.organicWeight},${k.inorganicWeight},${k.totalWeight},${k.pollution},${k.globalWarmingImpact}`)].join(`
`),m=new Blob([p],{type:"text/csv"}),w=window.URL.createObjectURL(m),N=document.createElement("a");N.href=w,N.download=`waste-analytics-${a.startDate}-${a.endDate}.csv`,document.body.appendChild(N),N.click(),document.body.removeChild(N),window.URL.revokeObjectURL(w)};return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Environmental Analytics"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"ML-powered pollution and global warming impact analysis"})]}),o&&c.jsxs("button",{onClick:y,disabled:t.length===0,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:ring-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:[c.jsx(l1,{className:"h-4 w-4"}),c.jsx("span",{children:"Download Report"})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(eh,{className:"h-5 w-5 text-gray-600"}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Select Date Range for Analysis"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),c.jsx("input",{type:"date",value:a.startDate,onChange:p=>d("startDate",p.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),c.jsx("input",{type:"date",value:a.endDate,onChange:p=>d("endDate",p.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsx("button",{onClick:f,disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:i?"Analyzing...":"Apply Filter"})]})]})}),i&&c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 mb-8",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Running ML analysis on dashboard data..."})]})}),o&&!i&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[c.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-green-100 text-sm font-medium",children:"Total Organic"}),c.jsxs("p",{className:"text-2xl font-bold",children:[h.toFixed(1)," kg"]})]}),c.jsx(g1,{className:"h-8 w-8 text-green-200"})]})}),c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Total Inorganic"}),c.jsxs("p",{className:"text-2xl font-bold",children:[g.toFixed(1)," kg"]})]}),c.jsx(oc,{className:"h-8 w-8 text-blue-200"})]})}),c.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Total Weight"}),c.jsxs("p",{className:"text-2xl font-bold",children:[v.toFixed(1)," kg"]})]}),c.jsx(th,{className:"h-8 w-8 text-purple-200"})]})}),c.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-xl p-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-red-100 text-sm font-medium",children:"Avg. Pollution"}),c.jsx("p",{className:"text-2xl font-bold",children:x.toFixed(1)})]}),c.jsx(o1,{className:"h-8 w-8 text-red-200"})]})}),c.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"Global Warming"}),c.jsx("p",{className:"text-2xl font-bold",children:C.toFixed(1)})]}),c.jsx(th,{className:"h-8 w-8 text-orange-200"})]})})]}),n&&c.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl border border-indigo-200 p-6 mb-8",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg",children:c.jsx(p1,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ML-Powered Suggestions"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Based on environmental impact analysis"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Pollution Level Analysis"}),c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${n.pollution>60?"bg-red-500":n.pollution>40?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(n.pollution,100)}%`}})}),c.jsx("span",{className:"text-sm font-medium",children:n.pollution.toFixed(1)})]})]}),c.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Global Warming Impact"}),c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${n.globalWarmingImpact>50?"bg-red-500":n.globalWarmingImpact>30?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(n.globalWarmingImpact,100)}%`}})}),c.jsx("span",{className:"text-sm font-medium",children:n.globalWarmingImpact.toFixed(1)})]})]})]}),c.jsx("div",{className:"space-y-3",children:n.suggestions.map((p,m)=>c.jsxs("div",{className:"flex items-start space-x-3 bg-white rounded-lg p-3 border border-gray-200",children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center mt-0.5",children:c.jsx("span",{className:"text-xs font-medium text-indigo-600",children:m+1})}),c.jsx("p",{className:"text-gray-700 text-sm",children:p})]},m))})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Waste Composition Analysis"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Organic Waste"}),c.jsxs("span",{className:"text-sm font-bold text-green-600",children:[(h/v*100).toFixed(1),"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-500",style:{width:`${h/v*100}%`}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Inorganic Waste"}),c.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[(g/v*100).toFixed(1),"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${g/v*100}%`}})})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Environmental Impact Levels"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Pollution Level"}),c.jsxs("span",{className:`text-sm font-bold ${x>50?"text-red-600":x>30?"text-yellow-600":"text-green-600"}`,children:[x.toFixed(1),"/100"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${x>50?"bg-red-500":x>30?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min(x,100)}%`}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Global Warming Impact"}),c.jsxs("span",{className:`text-sm font-bold ${C>40?"text-red-600":C>25?"text-orange-600":"text-green-600"}`,children:[C.toFixed(1),"/100"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${C>40?"bg-red-500":C>25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(C,100)}%`}})})]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detailed Analytics Data (ML Processed)"})}),c.jsx("div",{className:"overflow-x-auto",children:t.length===0?c.jsx("div",{className:"p-8 text-center text-gray-500",children:"No data available for the selected date range."}):c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organic Weight (kg)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Inorganic Weight (kg)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Weight (kg)"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pollution Level"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Global Warming Impact"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((p,m)=>c.jsxs("tr",{className:m%2===0?"bg-white":"bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.date}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium",children:p.organicWeight.toFixed(2)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600 font-medium",children:p.inorganicWeight.toFixed(2)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-600 font-medium",children:p.totalWeight.toFixed(2)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.pollution>50?"bg-red-100 text-red-800":p.pollution>30?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:p.pollution.toFixed(1)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.globalWarmingImpact>40?"bg-red-100 text-red-800":p.globalWarmingImpact>25?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"}`,children:p.globalWarmingImpact.toFixed(1)})})]},m))})]})})]})]}),!o&&!i&&c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx(eh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select Date Range to View Analytics"}),c.jsx("p",{className:"text-gray-600",children:'Choose your desired date range and click "Apply Filter" to analyze waste data with our ML model.'})]})]})},MS=()=>{const t=[{icon:N1,title:"Real-time Monitoring",description:"Advanced sensor technology continuously monitors waste levels in both organic and inorganic containers."},{icon:oc,title:"ML-Powered Analytics",description:"Machine learning algorithms analyze waste data to predict pollution levels and global warming impact."},{icon:c1,title:"Environmental Impact",description:"Track and visualize the environmental consequences of waste generation patterns."},{icon:v1,title:"Cloud Integration",description:"Secure Firebase cloud storage ensures data reliability and accessibility from anywhere."}],e=[{icon:f1,title:"Reduced Environmental Impact",description:"By monitoring and analyzing waste patterns, we help reduce pollution and greenhouse gas emissions."},{icon:_1,title:"Data-Driven Decisions",description:"Make informed decisions about waste management strategies based on real data and analytics."},{icon:E1,title:"Community Awareness",description:"Raise awareness about environmental impact and encourage sustainable practices."}];return c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 p-4 rounded-2xl",children:c.jsx($o,{className:"h-12 w-12 text-white"})})}),c.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Smart Waste Management System"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"An intelligent environmental monitoring solution that uses IoT sensors and machine learning to track waste generation, calculate pollution levels, and assess global warming impact."}),c.jsxs("div",{className:"flex justify-center space-x-8 text-sm text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),c.jsx("span",{children:"Real-time Monitoring"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),c.jsx("span",{children:"ML Analytics"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),c.jsx("span",{children:"Cloud Integration"})]})]})]}),c.jsxs("div",{className:"mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"How It Works"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-green-100 rounded-full p-6 w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:c.jsx("span",{className:"text-2xl font-bold text-green-600",children:"1"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Sensor Data Collection"}),c.jsx("p",{className:"text-gray-600",children:"IoT sensors in separate containers continuously monitor organic and inorganic waste weights, sending real-time data to our Firebase cloud database."})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-blue-100 rounded-full p-6 w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:c.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"2"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"ML Model Processing"}),c.jsx("p",{className:"text-gray-600",children:"Advanced machine learning algorithms analyze the waste data to calculate pollution levels and predict global warming impact based on waste composition and volume."})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-purple-100 rounded-full p-6 w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:c.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"3"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Analytics & Insights"}),c.jsx("p",{className:"text-gray-600",children:"The processed data is presented through intuitive dashboards and analytics, helping users understand environmental impact and make informed decisions."})]})]})]}),c.jsxs("div",{className:"mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Key Features"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map((n,r)=>{const i=n.icon;return c.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 p-3 rounded-lg",children:c.jsx(i,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:n.title}),c.jsx("p",{className:"text-gray-600",children:n.description})]})]})},r)})})]}),c.jsxs("div",{className:"mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Environmental Benefits"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map((n,r)=>{const i=n.icon;return c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 rounded-2xl p-6 w-24 h-24 mx-auto mb-6 flex items-center justify-center",children:c.jsx(i,{className:"h-10 w-10 text-white"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:n.title}),c.jsx("p",{className:"text-gray-600",children:n.description})]},r)})})]}),c.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-8 mb-16",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-8",children:"Technical Specifications"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Sensor Technology"}),c.jsxs("ul",{className:"text-gray-600 text-sm space-y-1",children:[c.jsx("li",{children:"• High-precision weight sensors"}),c.jsx("li",{children:"• Real-time data transmission"}),c.jsx("li",{children:"• IoT connectivity"}),c.jsx("li",{children:"• Weather-resistant design"})]})]}),c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Data Processing"}),c.jsxs("ul",{className:"text-gray-600 text-sm space-y-1",children:[c.jsx("li",{children:"• Machine learning algorithms"}),c.jsx("li",{children:"• Real-time analytics"}),c.jsx("li",{children:"• Predictive modeling"}),c.jsx("li",{children:"• Historical data analysis"})]})]}),c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Cloud Infrastructure"}),c.jsxs("ul",{className:"text-gray-600 text-sm space-y-1",children:[c.jsx("li",{children:"• Firebase cloud storage"}),c.jsx("li",{children:"• RESTful API architecture"}),c.jsx("li",{children:"• Secure data transmission"}),c.jsx("li",{children:"• Scalable infrastructure"})]})]})]})]}),c.jsxs("div",{className:"text-center bg-gradient-to-r from-green-600 to-blue-600 rounded-2xl p-12 text-white",children:[c.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Join the Environmental Revolution"}),c.jsx("p",{className:"text-xl mb-8 text-green-100",children:"Help us create a sustainable future through intelligent waste management and environmental monitoring."}),c.jsxs("div",{className:"flex justify-center space-x-4",children:[c.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold",children:"24/7"}),c.jsx("div",{className:"text-sm text-green-100",children:"Monitoring"})]}),c.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold",children:"Real-time"}),c.jsx("div",{className:"text-sm text-green-100",children:"Analytics"})]}),c.jsxs("div",{className:"bg-white bg-opacity-20 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold",children:"Cloud"}),c.jsx("div",{className:"text-sm text-green-100",children:"Storage"})]})]})]})]})},Ul=({children:t})=>{const{user:e,loading:n}=Ui();return n?c.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):e?c.jsx(c.Fragment,{children:t}):c.jsx(rc,{to:"/login"})},Yh=({children:t})=>{const{user:e,loading:n}=Ui();return n?c.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):e?c.jsx(rc,{to:"/dashboard"}):c.jsx(c.Fragment,{children:t})};function AS(){return c.jsx(Q_,{children:c.jsxs(S_,{children:[c.jsx(dn,{path:"/login",element:c.jsx(Yh,{children:c.jsx(k1,{})})}),c.jsx(dn,{path:"/register",element:c.jsx(Yh,{children:c.jsx(I1,{})})}),c.jsx(dn,{path:"/dashboard",element:c.jsx(Ul,{children:c.jsx(Rl,{children:c.jsx(bS,{})})})}),c.jsx(dn,{path:"/analytics",element:c.jsx(Ul,{children:c.jsx(Rl,{children:c.jsx(DS,{})})})}),c.jsx(dn,{path:"/about",element:c.jsx(Ul,{children:c.jsx(Rl,{children:c.jsx(MS,{})})})}),c.jsx(dn,{path:"/",element:c.jsx(rc,{to:"/dashboard"})})]})})}function jS(){return c.jsx(r1,{children:c.jsx(AS,{})})}um(document.getElementById("root")).render(c.jsx(_.StrictMode,{children:c.jsx(jS,{})}));
